"use strict";(()=>{const e=2*Math.PI,t=window.matchMedia("(prefers-reduced-motion: reduce)").matches?.25:1,n=e=>Math.min(1,Math.max(0,e)),a=(e,t=210)=>(t+140*e+360)%360,o=(e,t=128,n=210)=>`hsl(${(n+60*(Math.sin(e*(t/128))+1))%360}deg 75% 55%)`,s=(e,t)=>({width:e.displayWidth||t.clientWidth||t.width||1,height:e.displayHeight||t.clientHeight||t.height||1}),i=(e,t)=>{if(!e||"function"!=typeof t)return;const n=()=>{const t=e.getBoundingClientRect();return t.bottom>=0&&t.top<=window.innerHeight};let a=!1,o=null,s=null;const i=()=>{a||(a=!0,o&&o.disconnect(),s&&clearTimeout(s),t())};n()?i():"IntersectionObserver"in window?(o=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&i()}))}),{threshold:.2}),o.observe(e),s=setTimeout((()=>{n()&&i()}),1200)):i()},r=e=>{const t={bpm:96,amplitude:16,frequency:8,phase:0,volume:60};return Array.from(e.querySelectorAll("[data-control]")).forEach((e=>{const n=e.dataset.control;if("SELECT"===e.tagName)return t[n]=e.value,void e.addEventListener("change",(()=>{t[n]=e.value}));if("color"===e.type)return t[n]=e.value,void e.addEventListener("input",(()=>{t[n]=e.value}));t[n]=Number(e.value);const a=e.closest(".control-row").querySelector("[data-value]");a&&(a.textContent=e.value),e.addEventListener("input",(()=>{t[n]=Number(e.value),a&&(a.textContent=e.value)}))})),t},l=(e,t={})=>new SineWaveGenerator({el:e,...t}),d=(n,a,o)=>{const s=document.querySelector(`[data-example="${n}"]`);if(!s)return;const d=s.querySelector("canvas");if(!d)return;const c=r(s),h=l(d),u=((e,t)=>{let n=!1;return e=>{if(!n&&(n=!0,t)&&!t.querySelector(".demo-error")){const e=document.createElement("span");e.className="demo-error",e.textContent="Demo stopped. Check console.",t.appendChild(e)}}})(0,s);h.addWave({amplitude:1,wavelength:1,speed:.05});const g=h.ctx;h.drawWave=(n,s=1)=>{try{const i=((e,t)=>e/(3600*Math.max(1,t)))(c.bpm,a)*t,r=n.phase+c.phase*Math.PI/180;o({ctx:g,canvas:d,generator:h,controls:c,time:r}),n.phase+=i*e*s}catch(e){u(e),h.stop()}},i(d,(()=>h.start()))},c=(e,t)=>{const n=.1909830056250526;return e<n||e>1-n?0:Math.sin((e-n)/(1-2*n)*Math.PI)*t},h=({ctx:t,canvas:o,controls:i,time:r,generator:l})=>{const{width:d,height:c}=s(l,o),h=d/16,u=c/10,g=.3*i.frequency,m=i.amplitude;for(let o=0;o<=10;o+=1)for(let s=0;s<=16;s+=1){const i=o*g+r,l=Math.sin(s*g+r)*Math.cos(i),d=4+m*n((l+1)/2),c=a(l,190);t.fillStyle=`hsl(${c}deg 70% 60%)`,t.beginPath(),t.arc(s*h+.2*h,o*u+.2*u,.25*d,0,e),t.fill()}},u=({ctx:t,canvas:n,controls:o,time:i,generator:r})=>{const{width:l,height:d}=s(r,n),c=o.amplitude,h=.04*o.frequency,u=.5*l;t.lineWidth=2;for(let n=0;n<=d;n+=6){const o=n*h+i,s=Math.sin(o)*c,r=Math.sin(o+Math.PI)*c,l=.5*(Math.cos(o)+1),d=a(l,210);t.strokeStyle=`hsla(${d}deg 80% 60% / ${.35+.5*l})`,t.beginPath(),t.moveTo(u+s,n),t.lineTo(u+r,n),t.stroke(),t.fillStyle=`hsla(${d}deg 80% 55% / ${.4+.6*l})`,t.beginPath(),t.arc(u+s,n,3+2*l,0,e),t.fill(),t.beginPath(),t.arc(u+r,n,3+2*(1-l),0,e),t.fill()}},g=({ctx:e,canvas:t,controls:n,time:a,generator:i})=>{const{width:r,height:l}=s(i,t),d=n.amplitude,c=.05*n.frequency;for(let t=0;t<6;t+=1){const n=r/7*(t+1);e.beginPath();for(let o=0;o<=l;o+=6){const s=n+Math.sin(o*c+a+.6*t)*d;0===o?e.moveTo(s,o):e.lineTo(s,o)}const s=1.5+1.2*(Math.sin(a+t)+1);e.lineWidth=s,e.shadowBlur=12,e.shadowColor=o(a,128,200+10*t),e.strokeStyle=o(a,128,200+10*t),e.stroke()}e.shadowBlur=0},m=({ctx:e,canvas:t,controls:n,time:a,generator:i})=>{const{width:r,height:l}=s(i,t),d=.4*n.amplitude,c=.08*n.frequency;for(let t=0;t<50;t+=1){const n=t/50*r,s=t/50*l,i=Math.sin(a+t*c)*d,h=n+i,u=s+.5*i,g=h+24,m=u+38,v=.8+.05*Math.abs(i);e.lineWidth=v,e.shadowBlur=8,e.shadowColor=o(a,128,240),e.strokeStyle=o(a+.2*t,128,240),e.beginPath(),e.moveTo(h,u),e.lineTo(g,m),e.stroke()}e.shadowBlur=0},v=({ctx:t,canvas:n,controls:i,time:r,generator:l})=>{const{width:d,height:c}=s(l,n),h=.5*d,u=.5*c,g=i.amplitude,m=i.frequency,v=i.phase*Math.PI/180;t.lineWidth=1.5+1.4*Math.abs(Math.sin(r)),t.shadowBlur=10,t.shadowColor=o(r,128,240),t.beginPath();for(let n=0;n<=240;n+=1){const a=n/240*e,o=h+Math.sin(a*m+r)*g*.9,s=u+Math.sin(a*(m+1)+v+r)*g;0===n?t.moveTo(o,s):t.lineTo(o,s)}const p=a(Math.sin(r),240);t.strokeStyle=`hsla(${p}deg 75% 55% / 0.8)`,t.stroke(),t.shadowBlur=0;const f=h+Math.sin(r*m)*g*.9,y=u+Math.sin(r*(m+1)+v)*g;t.fillStyle=`hsl(${p}deg 80% 60%)`,t.beginPath(),t.arc(f,y,6,0,e),t.fill()},p=({ctx:t,canvas:n,controls:a,time:i,generator:r})=>{const{width:l,height:d}=s(r,n),c=.5*l,h=.5*d,u=a.amplitude,g=.8*a.amplitude,m=Math.max(1,Math.round(a.frequency)),v=Math.max(1,Math.round(a.frequency+2)),p=a.phase*Math.PI/180;t.lineWidth=1.5+1.8*Math.abs(Math.sin(i)),t.shadowBlur=10,t.shadowColor=o(i,128,220),t.beginPath();for(let n=0;n<=320;n+=1){const a=n/320*e,o=c+u*Math.sin(m*a+p+i),s=h+g*Math.sin(v*a+i);0===n?t.moveTo(o,s):t.lineTo(o,s)}t.strokeStyle=o(i,128,220),t.stroke(),t.shadowBlur=0},f=({ctx:e,canvas:t,controls:n,time:i,generator:r})=>{const{width:l,height:d}=s(r,t),c=.5*d,h=n.amplitude,u=.04*n.frequency,g=.5*(Math.sin(.8*i)+1);e.beginPath();for(let t=0;t<=l;t+=4){const n=Math.sin(.006*t+i)*h*(.2+g),a=c+Math.sin(t*u+1.6*i)*n;0===t?e.moveTo(t,a):e.lineTo(t,a)}const m=a(g,260);e.lineWidth=1.5+2.2*g,e.shadowBlur=10,e.shadowColor=o(i,128,260),e.strokeStyle=`hsla(${m}deg 70% 55% / 0.85)`,e.stroke(),e.shadowBlur=0},y=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=.03*n.frequency,c=n.amplitude;for(let t=0;t<8;t+=1){const s=t/7,i=l*(.2+.7*s),h=o+s*n.phase*.03;e.beginPath();for(let t=0;t<=r;t+=6){const n=c*(1-s)+6,a=i+Math.sin(t*d+h)*n;0===t?e.moveTo(t,a):e.lineTo(t,a)}const u=a(s,200);e.strokeStyle=`hsla(${u}deg 70% 55% / ${.2+.6*s})`,e.lineWidth=1.6,e.stroke()}},w=({ctx:t,canvas:n,controls:i,time:r,generator:l})=>{const{width:d,height:c}=s(l,n),h=.5*d,u=.5*c,g=.45*Math.min(d,c),m=.15*i.frequency,v=i.amplitude,p=Math.pow(Math.max(0,Math.cos(r/e%1*e)),6);for(let n=18;n<g;n+=12){const s=Math.sin(n*m+r),i=Math.max(1,n+s*v*(.4+p)),l=a(s,280);t.strokeStyle=`hsla(${l}deg 75% 60% / 0.6)`,t.lineWidth=1+1.8*Math.abs(s),t.shadowBlur=10,t.shadowColor=o(r,128,280),t.beginPath(),t.arc(h,u,i,0,e),t.stroke()}t.shadowBlur=0},b=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=10+2*n.frequency,c=.25*Math.sin(o)+n.phase*Math.PI/360,h=.5*r,u=.5*l,g=.75*Math.max(r,l),m=(t,n)=>{e.save(),e.translate(h,u),e.rotate(t),e.translate(-h,-u);for(let t=-g;t<=r+g;t+=d){const s=Math.sin(t/d*.35+o),i=a(s,n);e.strokeStyle=`hsla(${i}deg 70% 60% / 0.35)`,e.beginPath(),e.moveTo(t,-g),e.lineTo(t,l+g),e.stroke()}e.restore()};m(c,180),m(1.3*-c,240)},M=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=n.amplitude,c=.6*n.frequency;e.textAlign="center",e.textBaseline="middle",e.font="600 28px 'SF Pro Text', 'Helvetica Neue', sans-serif";const h="SINE WAVE".split(""),u=18*h.length;h.forEach(((t,n)=>{const s=n-h.length/2,i=Math.sin(o+s*c)*d,u=a(i/d,210);e.fillStyle=`hsl(${u}deg 80% 55%)`,e.fillText(t,.5*r+18*s,.5*l+i)})),e.strokeStyle="rgba(15, 23, 42, 0.1)",e.strokeRect(.5*r-.5*u-16,.5*l-30,u+32,60)},k=({ctx:t,canvas:n,controls:o,time:i,generator:r})=>{const{width:l,height:d}=s(r,n),c=.5*d,h=o.amplitude,u=.03*o.frequency,g=Math.exp(i/e%1*-3.2);t.beginPath();for(let e=0;e<=l;e+=4){const n=c+Math.sin(e*u+i)*h*g;0===e?t.moveTo(e,n):t.lineTo(e,n)}const m=a(g,140);t.strokeStyle=`hsla(${m}deg 70% 55% / 0.8)`,t.lineWidth=2,t.stroke()},x=({ctx:e,canvas:t,controls:n,time:i,generator:r})=>{const{width:l,height:d}=s(r,t),c=.5*d,h=n.amplitude,u=.02*n.frequency,g=.02*Math.sin(.8*i)*n.frequency;e.beginPath();for(let t=0;t<=l;t+=4){const n=.6*Math.sin(i+t*u*.4)+1,a=c+Math.sin(t*(u+g*n)+i)*h*(.6+.4*n);0===t?e.moveTo(t,a):e.lineTo(t,a)}const m=a(Math.sin(i),260);e.strokeStyle=`hsla(${m}deg 70% 55% / 0.85)`,e.lineWidth=1.5+1.5*Math.abs(Math.sin(i)),e.shadowBlur=8,e.shadowColor=o(i,128,260),e.stroke(),e.shadowBlur=0},S=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:i,height:r}=s(o,t),l=.5*r,d=n.amplitude,c=.03*n.frequency,h=e.createLinearGradient(0,l-d,0,r);h.addColorStop(0,"rgba(14, 165, 233, 0.6)"),h.addColorStop(.5,"rgba(14, 165, 233, 0.2)"),h.addColorStop(1,"rgba(14, 165, 233, 0)"),e.beginPath(),e.moveTo(0,r);for(let t=0;t<=i;t+=4){const n=Math.sin(t*c+a);e.lineTo(t,l+n*d)}e.lineTo(i,r),e.closePath(),e.fillStyle=h,e.fill(),e.beginPath();for(let t=0;t<=i;t+=4){const n=l+Math.sin(t*c+a)*d;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.8)",e.lineWidth=2,e.stroke()},C=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:i,height:r}=s(o,t),l=.5*r,d=(n.volume||60)/100,c=n.amplitude*d;[{freq:.02,speed:1,hue:200,alpha:.7},{freq:.035,speed:1.4,hue:240,alpha:.5},{freq:.05,speed:.8,hue:280,alpha:.4},{freq:.015,speed:1.8,hue:320,alpha:.3}].forEach((t=>{e.beginPath();for(let n=0;n<=i;n+=4){const o=Math.sin(n*t.freq+a*t.speed),s=l+o*c;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`hsla(${t.hue}deg 75% 55% / ${t.alpha})`,e.lineWidth=1.5+d,e.stroke()}))},E=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=.5*r,c=n.amplitude,h=.03*n.frequency;for(let t=0;t<3;t++){e.beginPath();for(let n=0;n<=l;n+=4){const a=d+Math.sin(n*h+o+.8*t)*c*(1-.25*t);0===n?e.moveTo(a,n):e.lineTo(a,n)}const n=a(t/3,200);e.strokeStyle=`hsla(${n}deg 75% 55% / ${.8-.2*t})`,e.lineWidth=2-.4*t,e.stroke()}},T=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=.5*l,c=n.amplitude,h=.03*n.frequency;[[12,6],[4,8],[20,4,4,4]].forEach(((t,n)=>{e.beginPath(),e.setLineDash(t);for(let t=0;t<=r;t+=4){const a=Math.sin(t*h+o+1.2*n),s=d+a*c*(1-.2*n)+20*(n-1);0===t?e.moveTo(t,s):e.lineTo(t,s)}const s=a(n/3,210);e.strokeStyle=`hsla(${s}deg 70% 55% / 0.8)`,e.lineWidth=2,e.stroke()})),e.setLineDash([])},L=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:r,height:l}=s(i,t),d=.5*l,c=n.amplitude,h=.025*n.frequency;for(let t=0;t<r-6;t+=6){const n=Math.sin(t*h+o),s=d+n*c,i=d+Math.sin((t+6)*h+o)*c,r=1+4*Math.abs(Math.sin(.01*t+2*o)),l=a(n,220);e.beginPath(),e.moveTo(t,s),e.lineTo(t+6,i),e.strokeStyle=`hsla(${l}deg 75% 55% / 0.85)`,e.lineWidth=r,e.stroke()}},q=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:i,height:r}=s(o,t),l=.5*r,d=n.amplitude,c=.025*n.frequency;e.save(),e.globalCompositeOperation="screen",[{hue:200,offset:0},{hue:260,offset:1.2},{hue:320,offset:2.4}].forEach((t=>{e.beginPath();for(let n=0;n<=i;n+=4){const o=Math.sin(n*c+a+t.offset),s=l+o*d;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`hsla(${t.hue}deg 90% 60% / 0.6)`,e.lineWidth=3,e.shadowBlur=20,e.shadowColor=`hsla(${t.hue}deg 90% 60% / 0.5)`,e.stroke()})),e.restore()},W=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:i,height:r}=s(o,t),l=.5*r,d=n.amplitude,c=.015*n.frequency;e.beginPath();for(let t=0;t<=i;t+=6){const n=l+Math.sin(t*c+.15*a)*d;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.5)",e.lineWidth=2,e.stroke(),e.beginPath();for(let t=0;t<=i;t+=6){const n=l+Math.sin(t*c*.7+.1*a+1.5)*d*.6;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.25)",e.lineWidth=1.5,e.stroke()},P=(e,t)=>{(()=>{if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);const t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Promise.resolve()})().then((()=>{if(t){const e=t.textContent;t.textContent="Copied!",t.classList.add("copied"),setTimeout((()=>{t.textContent=e,t.classList.remove("copied")}),2e3)}}))},I=()=>{if("function"!=typeof window.SineWaveGenerator)return void setTimeout(I,50);(()=>{const e=document.getElementById("themeToggle");if(!e)return;const t=localStorage.getItem("theme");t?document.documentElement.setAttribute("data-theme",t):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.setAttribute("data-theme","dark"),e.addEventListener("click",(()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}))})();const B=document.getElementById("loadingOverlay");B&&(B.classList.add("is-hidden"),setTimeout((()=>B.remove()),300)),(()=>{const e=document.querySelector(".site-header"),t=document.querySelector(".nav-toggle");e&&t&&t.addEventListener("click",(()=>{const n=e.classList.toggle("nav-open");t.setAttribute("aria-expanded",n?"true":"false")}))})();const $=e=>{try{e()}catch(e){}};$((()=>(()=>{const a=(e,t)=>{i(e,(()=>t.start()))},o=document.getElementById("sineCanvasBasic");if(o){const e=l(o);e.addWave({amplitude:26,wavelength:140,speed:.04*t,segmentLength:10}),a(o,e)}const s=document.getElementById("sineCanvasMulti");if(s){const e=l(s);e.addWave({amplitude:18,wavelength:140,speed:.04*t,segmentLength:10}),e.addWave({amplitude:28,wavelength:200,speed:.035*t,segmentLength:12,strokeStyle:"rgba(14,165,233,0.5)"}),e.addWave({amplitude:12,wavelength:90,speed:.05*t,segmentLength:8,strokeStyle:"rgba(15,23,42,0.35)"}),a(s,e)}const r=document.getElementById("sineCanvasPointer");if(r){const o=l(r);o.addWave({amplitude:32,wavelength:180,speed:.045*t,segmentLength:8});const s={x:.5,y:.5,rafId:null},i=()=>{s.rafId=null;const t=40+120*(1-2*Math.abs(s.y-.5)),n=120+240*(1-2*Math.abs(s.x-.5));o.waves.forEach((a=>{a.amplitude=t,a.wavelength=n,a.phase=s.y*e}))};r.addEventListener("pointermove",(e=>{const t=r.getBoundingClientRect();s.x=n((e.clientX-t.left)/t.width),s.y=n((e.clientY-t.top)/t.height),s.rafId||(s.rafId=requestAnimationFrame(i))})),a(r,o)}const d=document.getElementById("sineCanvasDynamic");if(d){const e=l(d),n=[{amplitude:12,wavelength:100,speed:.035*t,segmentLength:10},{amplitude:20,wavelength:140,speed:.04*t,segmentLength:10},{amplitude:28,wavelength:180,speed:.045*t,segmentLength:10},{amplitude:36,wavelength:220,speed:.05*t,segmentLength:12},{amplitude:18,wavelength:120,speed:.038*t,segmentLength:8}];let a=0,o=!1;const s=()=>{e.waves.length<n.length?(e.addWave(n[a]),a=(a+1)%n.length,setTimeout(s,400)):o||(o=!0,setTimeout(r,600))},r=()=>{e.waves.length>1?(e.removeWave(0),setTimeout(r,400)):(o=!1,setTimeout(s,600))};i(d,(()=>{s(),e.start()}))}const h=document.getElementById("sineCanvasPerformance");if(h){const e=l(h,{maxPixelRatio:1});e.addWave({amplitude:18,wavelength:160,speed:.035*t,segmentLength:14}),e.addWave({amplitude:10,wavelength:120,speed:.04*t,segmentLength:16}),e.addWave({amplitude:6,wavelength:90,speed:.045*t,segmentLength:18}),a(h,e)}const u=document.getElementById("sineCanvasEasing");if(u){const e=l(u);e.addWave({amplitude:30,wavelength:160,speed:.04*t,segmentLength:10,easing:c}),a(u,e)}const g=document.getElementById("sineCanvasPause");if(g){const e=l(g);e.addWave({amplitude:24,wavelength:150,speed:.04*t,segmentLength:10});const n=document.querySelector('[data-action="pause"]'),o=document.querySelector('[data-action="resume"]');n&&n.addEventListener("click",(()=>e.stop())),o&&o.addEventListener("click",(()=>e.start())),a(g,e)}})())),$((()=>d("pulseMatrix",4,h))),$((()=>d("dnaHelix",4,u))),$((()=>d("fluidColumn",4,g))),$((()=>d("diagonalRain",4,m))),$((()=>d("lissajousOrbit",3,v))),$((()=>d("lissajousExplorer",4,p))),$((()=>d("feedbackLoop",4,f))),$((()=>d("waveformTerrain",6,y))),$((()=>d("radialBloom",4,w))),$((()=>d("gradientFill",4,S))),$((()=>d("audioVisualizerSim",4,C))),$((()=>d("labOcean",6,y))),$((()=>d("labHelix",4,u))),$((()=>d("labPulse",4,w))),$((()=>d("labOrbit",3,v))),$((()=>d("moireInterference",4,b))),$((()=>d("kineticTypography",4,M))),$((()=>d("dampedSine",4,k))),$((()=>d("recursiveSine",4,x))),$((()=>d("verticalWave",4,E))),$((()=>d("dashArray",4,T))),$((()=>d("variableWidth",4,L))),$((()=>d("compositingGlow",4,q))),$((()=>d("zenMode",8,W))),$((()=>(()=>{const e=document.querySelector('[data-example="stringPhysics"]');if(!e)return;const n=e.querySelector("canvas");if(!n)return;const a=l(n);a.addWave({amplitude:1,wavelength:1,speed:.08*t});const r={amplitude:0,decay:.95};n.addEventListener("pointerdown",(()=>{r.amplitude=100}));const d=a.ctx;a.drawWave=(e,i=1)=>{r.amplitude*=r.decay;const{width:l,height:c}=s(a,n),h=.5*c;d.beginPath();for(let t=0;t<=l;t+=6){const n=h+Math.sin(.02*t+e.phase)*r.amplitude*.02;0===t?d.moveTo(t,n):d.lineTo(t,n)}d.lineWidth=1+.02*Math.abs(r.amplitude),d.shadowBlur=10,d.shadowColor=o(e.phase,128,210),d.strokeStyle=o(e.phase,128,210),d.stroke(),d.shadowBlur=0,e.phase+=.02*i*t},i(n,(()=>a.start()))})())),$((()=>(()=>{const e=document.querySelector('[data-example="audioSpectrogram"]');if(!e)return;const n=e.querySelector("canvas"),o=e.querySelector("[data-action=audio-start]"),r=e.querySelector("[data-audio-status]");if(!n||!o||!r)return;const d=l(n);d.addWave({amplitude:1,wavelength:1,speed:.05*t});const c=d.ctx;let h=null,u=null;o.addEventListener("click",(()=>{h||(r.textContent="Listening",(async()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=await navigator.mediaDevices.getUserMedia({audio:!0}),n=e.createMediaStreamSource(t);h=e.createAnalyser(),h.fftSize=128,u=new Uint8Array(h.frequencyBinCount),n.connect(h),r.textContent="Live"}catch{r.textContent="Blocked"}})())})),d.drawWave=(e,o=1)=>{const{width:i,height:r}=s(d,n);h&&u&&h.getByteFrequencyData(u);const l=i/64;c.lineWidth=1.5;for(let t=0;t<64;t+=1){const n=Math.floor(t/64*(u?u.length:64)),o=u?u[n]/255:.5*(Math.sin(e.phase+.2*t)+1),s=.3*o*r,i=t*l+.5*l,d=.5*r;c.beginPath(),c.moveTo(i,d-s),c.lineTo(i,d+s);const h=a(o,180+t);c.strokeStyle=`hsla(${h}deg 80% 55% / 0.7)`,c.stroke()}e.phase+=.02*o*t},i(n,(()=>d.start()))})())),$((()=>(()=>{const e=document.getElementById("responsiveResizeCanvas");if(!e)return;const n=l(e,{autoResize:!0});n.addWave({amplitude:24,wavelength:140,speed:.04*t,segmentLength:10}),n.addWave({amplitude:16,wavelength:200,speed:.03*t,segmentLength:12,strokeStyle:"rgba(14,165,233,0.4)"});const a=e.parentElement;a&&new ResizeObserver((()=>{n.resize()})).observe(a),i(e,(()=>n.start()))})())),$((()=>(()=>{const e=document.getElementById("heroBackgroundCanvas");if(!e)return;const n=l(e,{autoResize:!0});n.addWave({amplitude:1,wavelength:1,speed:.02});const a=n.ctx;n.drawWave=(o,i=1)=>{(({ctx:e,canvas:t,generator:n,time:a})=>{const{width:o,height:i}=s(n,t),r=.5*i;[{amplitude:15,freq:.008,speed:.3,alpha:.12},{amplitude:10,freq:.012,speed:.2,alpha:.08},{amplitude:8,freq:.006,speed:.4,alpha:.1}].forEach((t=>{e.beginPath();for(let n=0;n<=o;n+=8){const o=Math.sin(n*t.freq+a*t.speed),s=r+o*t.amplitude;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`rgba(14, 165, 233, ${t.alpha})`,e.lineWidth=1.5,e.stroke()}))})({ctx:a,canvas:e,generator:n,time:o.phase}),o.phase+=.01*i*t},n.start()})())),$((()=>(()=>{const e=document.getElementById("playgroundCanvas");if(!e)return;const n=e.closest(".playground-card");if(!n)return;const a=r(n),o=l(e),s={sineInOut:(e,t)=>t*(Math.sin(e*Math.PI)+1)/2,sineIn:(e,t)=>t*(1-Math.cos(e*Math.PI/2)),sineOut:(e,t)=>t*Math.sin(e*Math.PI/2),linear:(e,t)=>t*e},i={ocean:{waveCount:3,amplitude:20,wavelength:280,speed:.4,segmentLength:10,easing:"sineInOut"},heartbeat:{waveCount:1,amplitude:60,wavelength:80,speed:2,segmentLength:6,easing:"sineIn"},highfreq:{waveCount:4,amplitude:15,wavelength:40,speed:1.5,segmentLength:4,easing:"linear"},stormy:{waveCount:5,amplitude:50,wavelength:120,speed:2.5,segmentLength:8,easing:"sineOut"}},d=document.getElementById("playgroundPreset");d&&d.addEventListener("change",(()=>{const e=i[d.value];if(!e)return;n.querySelectorAll("[data-control]").forEach((t=>{const n=t.dataset.control;"preset"!==n&&"strokeColor"!==n&&void 0!==e[n]&&(t.value=e[n],t.dispatchEvent(new Event("input",{bubbles:!0})))}));const t=n.querySelector('[data-control="easing"]');t&&e.easing&&(t.value=e.easing,t.dispatchEvent(new Event("change",{bubbles:!0})))}));const c=()=>{const e=Number(a.waveCount)||2,n=Number(a.amplitude)||30,i=Number(a.wavelength)||140,r=Number(a.speed)||.8,l=Number(a.segmentLength)||10,d=s[a.easing||"sineInOut"]||s.sineInOut,c=a.strokeColor||null;for(;o.waves.length>e;)o.removeWave(o.waves.length-1);for(;o.waves.length<e;)o.addWave({amplitude:n,wavelength:i,speed:.05*r,segmentLength:l,easing:d,strokeStyle:c});o.waves.forEach(((e,a)=>{e.amplitude=n,e.wavelength=i+30*a,e.speed=.05*r*t,e.segmentLength=l,e.easing=d,e.strokeStyle=c}))};n.addEventListener("input",c),n.addEventListener("change",c),c();const h=document.getElementById("playgroundCopyConfig");h&&h.addEventListener("click",(()=>{const e=a.easing||"sineInOut",t=[],n=Number(a.waveCount)||2;for(let o=0;o<n;o++)t.push(`    { amplitude: ${a.amplitude}, wavelength: ${Number(a.wavelength)+30*o}, speed: ${a.speed}, segmentLength: ${a.segmentLength}, easing: Ease.${e}${a.strokeColor?`, strokeStyle: "${a.strokeColor}"`:""} }`);const o=`const generator = new SineWaveGenerator({\n  el: "#myCanvas",\n  waves: [\n${t.join(",\n")}\n  ]\n});\ngenerator.start();`;P(o,h)}));const u=document.getElementById("playgroundFullscreen");u&&u.addEventListener("click",(()=>{n.classList.toggle("is-fullscreen"),u.textContent=n.classList.contains("is-fullscreen")?"Exit Fullscreen":"Fullscreen",o.resize()})),o.start()})())),document.querySelectorAll(".code-block").forEach((e=>{if(e.querySelector(".copy-btn"))return;e.style.position="relative";const t=document.createElement("button");t.className="copy-btn",t.type="button",t.textContent="Copy",t.addEventListener("click",(n=>{n.stopPropagation();const a=e.querySelector("code");P(a?a.textContent:e.textContent,t)})),e.appendChild(t)})),document.querySelectorAll(".view-code-toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.nextElementSibling;if(t&&t.classList.contains("code-reveal")){const n=t.classList.toggle("is-visible");e.textContent=n?"Hide Code":"View Code"}}))}))};document.addEventListener("DOMContentLoaded",(()=>{I()}))})();