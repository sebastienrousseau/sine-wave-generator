"use strict";(()=>{const t=2*Math.PI,e=t=>Math.min(1,Math.max(0,t)),a=(t,e=210)=>(e+140*t+360)%360,n=(t,e)=>({width:t.displayWidth||e.clientWidth||e.width||1,height:t.displayHeight||e.clientHeight||e.height||1}),o=(e,a,n)=>{const o=document.querySelector(`[data-example="${e}"]`);if(!o)return;const i=o.querySelector("canvas");if(!i)return;const r=(t=>{const e={bpm:96,amplitude:16,frequency:8,phase:0};return Array.from(t.querySelectorAll("[data-control]")).forEach(t=>{const a=t.dataset.control;e[a]=Number(t.value);const n=t.closest(".control-row").querySelector("[data-value]");n&&(n.textContent=t.value),t.addEventListener("input",()=>{e[a]=Number(t.value),n&&(n.textContent=t.value)})}),e})(o),s=(t=>{const e=new SineWaveGenerator({el:t});return e.addWave({amplitude:1,wavelength:1,speed:.05}),e})(i),l=s.ctx;s.drawWave=(e,o=1)=>{const h=((t,e)=>t/(3600*Math.max(1,e)))(r.bpm,a),c=e.phase+r.phase*Math.PI/180;n({ctx:l,canvas:i,generator:s,controls:r,time:c}),e.phase+=h*t*o},s.start()},i=({ctx:o,canvas:i,controls:r,time:s,generator:l})=>{const{width:h,height:c}=n(l,i),d=h/16,u=c/10,g=.3*r.frequency,m=r.amplitude;for(let n=0;n<=10;n+=1)for(let i=0;i<=16;i+=1){const r=i*g+s,l=n*g+s,h=Math.sin(r)*Math.cos(l),c=4+m*e((h+1)/2),f=a(h,190);o.fillStyle=`hsl(${f}deg 70% 60%)`,o.beginPath(),o.arc(i*d+.2*d,n*u+.2*u,.25*c,0,t),o.fill()}},r=({ctx:e,canvas:o,controls:i,time:r,generator:s})=>{const{width:l,height:h}=n(s,o),c=i.amplitude,d=.04*i.frequency,u=.5*l;e.lineWidth=2;for(let n=0;n<=h;n+=6){const o=n*d+r,i=Math.sin(o)*c,s=Math.sin(o+Math.PI)*c,l=.5*(Math.cos(o)+1),h=a(l,210);e.strokeStyle=`hsla(${h}deg 80% 60% / ${.35+.5*l})`,e.beginPath(),e.moveTo(u+i,n),e.lineTo(u+s,n),e.stroke(),e.fillStyle=`hsla(${h}deg 80% 55% / ${.4+.6*l})`,e.beginPath(),e.arc(u+i,n,3+2*l,0,t),e.fill(),e.beginPath(),e.arc(u+s,n,3+2*(1-l),0,t),e.fill()}},s=({ctx:e,canvas:o,controls:i,time:r,generator:s})=>{const{width:l,height:h}=n(s,o),c=.5*l,d=.5*h,u=i.amplitude,g=i.frequency,m=i.phase*Math.PI/180;e.lineWidth=2,e.beginPath();for(let a=0;a<=240;a+=1){const n=a/240*t,o=c+Math.sin(n*g+r)*u*.9,i=d+Math.sin(n*(g+1)+m+r)*u;0===a?e.moveTo(o,i):e.lineTo(o,i)}const f=a(Math.sin(r),240);e.strokeStyle=`hsla(${f}deg 75% 55% / 0.8)`,e.stroke();const M=c+Math.sin(r*g)*u*.9,p=d+Math.sin(r*(g+1)+m)*u;e.fillStyle=`hsl(${f}deg 80% 60%)`,e.beginPath(),e.arc(M,p,6,0,t),e.fill()},l=({ctx:t,canvas:e,controls:o,time:i,generator:r})=>{const{width:s,height:l}=n(r,e),h=.03*o.frequency,c=o.amplitude;for(let e=0;e<8;e+=1){const n=e/7,r=l*(.2+.7*n),d=i+n*o.phase*.03;t.beginPath();for(let e=0;e<=s;e+=6){const a=c*(1-n)+6,o=r+Math.sin(e*h+d)*a;0===e?t.moveTo(e,o):t.lineTo(e,o)}const u=a(n,200);t.strokeStyle=`hsla(${u}deg 70% 55% / ${.2+.6*n})`,t.lineWidth=1.6,t.stroke()}},h=({ctx:e,canvas:o,controls:i,time:r,generator:s})=>{const{width:l,height:h}=n(s,o),c=.5*l,d=.5*h,u=.45*Math.min(l,h),g=.15*i.frequency,m=i.amplitude,f=r/t%1,M=Math.pow(Math.max(0,Math.cos(f*t)),6);for(let n=18;n<u;n+=12){const o=Math.sin(n*g+r),i=o*(m*(.4+M)),s=a(o,280);e.strokeStyle=`hsla(${s}deg 75% 60% / 0.6)`,e.lineWidth=2,e.beginPath(),e.arc(c,d,n+i,0,t),e.stroke()}};document.addEventListener("DOMContentLoaded",()=>{"function"==typeof window.SineWaveGenerator&&(o("pulseMatrix",4,i),o("dnaHelix",4,r),o("lissajousOrbit",3,s),o("waveformTerrain",6,l),o("radialBloom",4,h))})})();