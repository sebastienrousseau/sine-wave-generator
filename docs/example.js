"use strict";(()=>{const e=2*Math.PI,t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,a=t?.25:1,n=e=>Math.min(1,Math.max(0,e)),o=(e,t=210)=>(t+140*e+360)%360,s=(e,t=128,a=210)=>`hsl(${(a+60*(Math.sin(e*(t/128))+1))%360}deg 75% 55%)`,r=(e,t)=>({width:e.displayWidth||t.clientWidth||t.width||1,height:e.displayHeight||t.clientHeight||t.height||1}),i=e=>{if(!t||!e)return;if(e.querySelector(".motion-note"))return;const a=document.createElement("div");a.className="motion-note",a.textContent="Reduced motion is on.",e.appendChild(a)},l=(e,t,a)=>{if(!e||!t)return;const n=e.querySelector(".gallery-actions")||e.querySelector(".controls")||e;let o=e.querySelector('[data-action="toggle-motion"]');o||(o=document.createElement("button"),o.type="button",o.className="btn motion-toggle",o.setAttribute("data-action","toggle-motion"),n.appendChild(o));let s=!1;const r=()=>{o.textContent=s?"Resume animation":"Pause animation",o.setAttribute("aria-pressed",s?"true":"false")};r(),o.addEventListener("click",(()=>{s?("function"==typeof a?a():t.start(),s=!1):(t.stop(),s=!0),r()}))},d=(e,t)=>{if(!e||"function"!=typeof t)return;const a=()=>{const t=e.getBoundingClientRect();return t.bottom>=0&&t.top<=window.innerHeight};let n=!1,o=null,s=null;const r=()=>{n||(n=!0,o&&o.disconnect(),s&&clearTimeout(s),t())};a()?r():"IntersectionObserver"in window?(o=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&r()}))}),{threshold:.2}),o.observe(e),s=setTimeout((()=>{a()&&r()}),1200)):r()},c=e=>{const t={bpm:96,amplitude:16,frequency:8,phase:0,volume:60};return Array.from(e.querySelectorAll("[data-control]")).forEach((e=>{const a=e.dataset.control;if("SELECT"===e.tagName)return t[a]=e.value,void e.addEventListener("change",(()=>{t[a]=e.value}));if("color"===e.type)return t[a]=e.value,void e.addEventListener("input",(()=>{t[a]=e.value}));t[a]=Number(e.value);const n=e.closest(".control-row").querySelector("[data-value]");n&&(n.textContent=e.value),e.addEventListener("input",(()=>{t[a]=Number(e.value),n&&(n.textContent=e.value)}))})),t},h=(e,t={})=>new SineWaveGenerator({el:e,...t}),u=(t,n,o)=>{const s=document.querySelector(`[data-example="${t}"]`);if(!s)return;const r=s.querySelector("canvas");if(!r)return;const u=c(s),m=h(r),p=((e,t)=>{let a=!1;return e=>{if(!a&&(a=!0,t)&&!t.querySelector(".demo-error")){const e=document.createElement("span");e.className="demo-error",e.textContent="Demo stopped. Check console.",t.appendChild(e)}}})(0,s);i(s),m.addWave({amplitude:1,wavelength:1,speed:.05});const g=m.ctx;let y=!1;m.drawWave=(t,s=1)=>{try{const i=((e,t)=>e/(3600*Math.max(1,t)))(u.bpm,n)*a,l=t.phase+u.phase*Math.PI/180;o({ctx:g,canvas:r,generator:m,controls:u,time:l}),t.phase+=i*e*s}catch(e){p(e),m.stop()}};const v=()=>{y=!0,m.start()};d(r,v),l(s,m,(()=>{y?m.start():v()}))},m=(e,t)=>{const a=.1909830056250526;return e<a||e>1-a?0:Math.sin((e-a)/(1-2*a)*Math.PI)*t},p=({ctx:t,canvas:a,controls:s,time:i,generator:l})=>{const{width:d,height:c}=r(l,a),h=d/16,u=c/10,m=.3*s.frequency,p=s.amplitude;for(let a=0;a<=10;a+=1)for(let s=0;s<=16;s+=1){const r=a*m+i,l=Math.sin(s*m+i)*Math.cos(r),d=4+p*n((l+1)/2),c=o(l,190);t.fillStyle=`hsl(${c}deg 70% 60%)`,t.beginPath(),t.arc(s*h+.2*h,a*u+.2*u,.25*d,0,e),t.fill()}},g=({ctx:t,canvas:a,controls:n,time:s,generator:i})=>{const{width:l,height:d}=r(i,a),c=n.amplitude,h=.04*n.frequency,u=.5*l;t.lineWidth=2;for(let a=0;a<=d;a+=6){const n=a*h+s,r=Math.sin(n)*c,i=Math.sin(n+Math.PI)*c,l=.5*(Math.cos(n)+1),d=o(l,210);t.strokeStyle=`hsla(${d}deg 80% 60% / ${.35+.5*l})`,t.beginPath(),t.moveTo(u+r,a),t.lineTo(u+i,a),t.stroke(),t.fillStyle=`hsla(${d}deg 80% 55% / ${.4+.6*l})`,t.beginPath(),t.arc(u+r,a,3+2*l,0,e),t.fill(),t.beginPath(),t.arc(u+i,a,3+2*(1-l),0,e),t.fill()}},y=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:i,height:l}=r(o,t),d=a.amplitude,c=.05*a.frequency;for(let t=0;t<6;t+=1){const a=i/7*(t+1);e.beginPath();for(let o=0;o<=l;o+=6){const s=a+Math.sin(o*c+n+.6*t)*d;0===o?e.moveTo(s,o):e.lineTo(s,o)}const o=1.5+1.2*(Math.sin(n+t)+1);e.lineWidth=o,e.shadowBlur=12,e.shadowColor=s(n,128,200+10*t),e.strokeStyle=s(n,128,200+10*t),e.stroke()}e.shadowBlur=0},v=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:i,height:l}=r(o,t),d=.4*a.amplitude,c=.08*a.frequency;for(let t=0;t<50;t+=1){const a=t/50*i,o=t/50*l,r=Math.sin(n+t*c)*d,h=a+r,u=o+.5*r,m=h+24,p=u+38,g=.8+.05*Math.abs(r);e.lineWidth=g,e.shadowBlur=8,e.shadowColor=s(n,128,240),e.strokeStyle=s(n+.2*t,128,240),e.beginPath(),e.moveTo(h,u),e.lineTo(m,p),e.stroke()}e.shadowBlur=0},f=({ctx:t,canvas:a,controls:n,time:i,generator:l})=>{const{width:d,height:c}=r(l,a),h=.5*d,u=.5*c,m=n.amplitude,p=n.frequency,g=n.phase*Math.PI/180;t.lineWidth=1.5+1.4*Math.abs(Math.sin(i)),t.shadowBlur=10,t.shadowColor=s(i,128,240),t.beginPath();for(let a=0;a<=240;a+=1){const n=a/240*e,o=h+Math.sin(n*p+i)*m*.9,s=u+Math.sin(n*(p+1)+g+i)*m;0===a?t.moveTo(o,s):t.lineTo(o,s)}const y=o(Math.sin(i),240);t.strokeStyle=`hsla(${y}deg 75% 55% / 0.8)`,t.stroke(),t.shadowBlur=0;const v=h+Math.sin(i*p)*m*.9,f=u+Math.sin(i*(p+1)+g)*m;t.fillStyle=`hsl(${y}deg 80% 60%)`,t.beginPath(),t.arc(v,f,6,0,e),t.fill()},w=({ctx:t,canvas:a,controls:n,time:o,generator:i})=>{const{width:l,height:d}=r(i,a),c=.5*l,h=.5*d,u=n.amplitude,m=.8*n.amplitude,p=Math.max(1,Math.round(n.frequency)),g=Math.max(1,Math.round(n.frequency+2)),y=n.phase*Math.PI/180;t.lineWidth=1.5+1.8*Math.abs(Math.sin(o)),t.shadowBlur=10,t.shadowColor=s(o,128,220),t.beginPath();for(let a=0;a<=320;a+=1){const n=a/320*e,s=c+u*Math.sin(p*n+y+o),r=h+m*Math.sin(g*n+o);0===a?t.moveTo(s,r):t.lineTo(s,r)}t.strokeStyle=s(o,128,220),t.stroke(),t.shadowBlur=0},b=({ctx:e,canvas:t,controls:a,time:n,generator:i})=>{const{width:l,height:d}=r(i,t),c=.5*d,h=a.amplitude,u=.04*a.frequency,m=.5*(Math.sin(.8*n)+1);e.beginPath();for(let t=0;t<=l;t+=4){const a=Math.sin(.006*t+n)*h*(.2+m),o=c+Math.sin(t*u+1.6*n)*a;0===t?e.moveTo(t,o):e.lineTo(t,o)}const p=o(m,260);e.lineWidth=1.5+2.2*m,e.shadowBlur=10,e.shadowColor=s(n,128,260),e.strokeStyle=`hsla(${p}deg 70% 55% / 0.85)`,e.stroke(),e.shadowBlur=0},x=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=.03*a.frequency,c=a.amplitude;for(let t=0;t<8;t+=1){const s=t/7,r=l*(.2+.7*s),h=n+s*a.phase*.03;e.beginPath();for(let t=0;t<=i;t+=6){const a=c*(1-s)+6,n=r+Math.sin(t*d+h)*a;0===t?e.moveTo(t,n):e.lineTo(t,n)}const u=o(s,200);e.strokeStyle=`hsla(${u}deg 70% 55% / ${.2+.6*s})`,e.lineWidth=1.6,e.stroke()}},S=({ctx:t,canvas:a,controls:n,time:i,generator:l})=>{const{width:d,height:c}=r(l,a),h=.5*d,u=.5*c,m=.45*Math.min(d,c),p=.15*n.frequency,g=n.amplitude,y=Math.pow(Math.max(0,Math.cos(i/e%1*e)),6);for(let a=18;a<m;a+=12){const n=Math.sin(a*p+i),r=Math.max(1,a+n*g*(.4+y)),l=o(n,280);t.strokeStyle=`hsla(${l}deg 75% 60% / 0.6)`,t.lineWidth=1+1.8*Math.abs(n),t.shadowBlur=10,t.shadowColor=s(i,128,280),t.beginPath(),t.arc(h,u,r,0,e),t.stroke()}t.shadowBlur=0},M=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=10+2*a.frequency,c=.25*Math.sin(n)+a.phase*Math.PI/360,h=.5*i,u=.5*l,m=.75*Math.max(i,l),p=(t,a)=>{e.save(),e.translate(h,u),e.rotate(t),e.translate(-h,-u);for(let t=-m;t<=i+m;t+=d){const s=Math.sin(t/d*.35+n),r=o(s,a);e.strokeStyle=`hsla(${r}deg 70% 60% / 0.35)`,e.beginPath(),e.moveTo(t,-m),e.lineTo(t,l+m),e.stroke()}e.restore()};p(c,180),p(1.3*-c,240)},C=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=a.amplitude,c=.6*a.frequency;e.textAlign="center",e.textBaseline="middle",e.font="600 28px 'SF Pro Text', 'Helvetica Neue', sans-serif";const h="SINE WAVE".split(""),u=18*h.length;h.forEach(((t,a)=>{const s=a-h.length/2,r=Math.sin(n+s*c)*d,u=o(r/d,210);e.fillStyle=`hsl(${u}deg 80% 55%)`,e.fillText(t,.5*i+18*s,.5*l+r)})),e.strokeStyle="rgba(15, 23, 42, 0.1)",e.strokeRect(.5*i-.5*u-16,.5*l-30,u+32,60)},k=({ctx:t,canvas:a,controls:n,time:s,generator:i})=>{const{width:l,height:d}=r(i,a),c=.5*d,h=n.amplitude,u=.03*n.frequency,m=Math.exp(s/e%1*-3.2);t.beginPath();for(let e=0;e<=l;e+=4){const a=c+Math.sin(e*u+s)*h*m;0===e?t.moveTo(e,a):t.lineTo(e,a)}const p=o(m,140);t.strokeStyle=`hsla(${p}deg 70% 55% / 0.8)`,t.lineWidth=2,t.stroke()},E=({ctx:e,canvas:t,controls:a,time:n,generator:i})=>{const{width:l,height:d}=r(i,t),c=.5*d,h=a.amplitude,u=.02*a.frequency,m=.02*Math.sin(.8*n)*a.frequency;e.beginPath();for(let t=0;t<=l;t+=4){const a=.6*Math.sin(n+t*u*.4)+1,o=c+Math.sin(t*(u+m*a)+n)*h*(.6+.4*a);0===t?e.moveTo(t,o):e.lineTo(t,o)}const p=o(Math.sin(n),260);e.strokeStyle=`hsla(${p}deg 70% 55% / 0.85)`,e.lineWidth=1.5+1.5*Math.abs(Math.sin(n)),e.shadowBlur=8,e.shadowColor=s(n,128,260),e.stroke(),e.shadowBlur=0},q=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:s,height:i}=r(o,t),l=.5*i,d=a.amplitude,c=.03*a.frequency,h=e.createLinearGradient(0,l-d,0,i);h.addColorStop(0,"rgba(14, 165, 233, 0.6)"),h.addColorStop(.5,"rgba(14, 165, 233, 0.2)"),h.addColorStop(1,"rgba(14, 165, 233, 0)"),e.beginPath(),e.moveTo(0,i);for(let t=0;t<=s;t+=4){const a=Math.sin(t*c+n);e.lineTo(t,l+a*d)}e.lineTo(s,i),e.closePath(),e.fillStyle=h,e.fill(),e.beginPath();for(let t=0;t<=s;t+=4){const a=l+Math.sin(t*c+n)*d;0===t?e.moveTo(t,a):e.lineTo(t,a)}e.strokeStyle="rgba(14, 165, 233, 0.8)",e.lineWidth=2,e.stroke()},L=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:s,height:i}=r(o,t),l=.5*i,d=(a.volume||60)/100,c=a.amplitude*d;[{freq:.02,speed:1,hue:200,alpha:.7},{freq:.035,speed:1.4,hue:240,alpha:.5},{freq:.05,speed:.8,hue:280,alpha:.4},{freq:.015,speed:1.8,hue:320,alpha:.3}].forEach((t=>{e.beginPath();for(let a=0;a<=s;a+=4){const o=Math.sin(a*t.freq+n*t.speed),s=l+o*c;0===a?e.moveTo(a,s):e.lineTo(a,s)}e.strokeStyle=`hsla(${t.hue}deg 75% 55% / ${t.alpha})`,e.lineWidth=1.5+d,e.stroke()}))},T=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=.5*i,c=a.amplitude,h=.03*a.frequency;for(let t=0;t<3;t++){e.beginPath();for(let a=0;a<=l;a+=4){const o=d+Math.sin(a*h+n+.8*t)*c*(1-.25*t);0===a?e.moveTo(o,a):e.lineTo(o,a)}const a=o(t/3,200);e.strokeStyle=`hsla(${a}deg 75% 55% / ${.8-.2*t})`,e.lineWidth=2-.4*t,e.stroke()}},W=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=.5*l,c=a.amplitude,h=.03*a.frequency;[[12,6],[4,8],[20,4,4,4]].forEach(((t,a)=>{e.beginPath(),e.setLineDash(t);for(let t=0;t<=i;t+=4){const o=Math.sin(t*h+n+1.2*a),s=d+o*c*(1-.2*a)+20*(a-1);0===t?e.moveTo(t,s):e.lineTo(t,s)}const s=o(a/3,210);e.strokeStyle=`hsla(${s}deg 70% 55% / 0.8)`,e.lineWidth=2,e.stroke()})),e.setLineDash([])},P=({ctx:e,canvas:t,controls:a,time:n,generator:s})=>{const{width:i,height:l}=r(s,t),d=.5*l,c=a.amplitude,h=.025*a.frequency;for(let t=0;t<i-6;t+=6){const a=Math.sin(t*h+n),s=d+a*c,r=d+Math.sin((t+6)*h+n)*c,i=1+4*Math.abs(Math.sin(.01*t+2*n)),l=o(a,220);e.beginPath(),e.moveTo(t,s),e.lineTo(t+6,r),e.strokeStyle=`hsla(${l}deg 75% 55% / 0.85)`,e.lineWidth=i,e.stroke()}},I=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:s,height:i}=r(o,t),l=.5*i,d=a.amplitude,c=.025*a.frequency;e.save(),e.globalCompositeOperation="screen",[{hue:200,offset:0},{hue:260,offset:1.2},{hue:320,offset:2.4}].forEach((t=>{e.beginPath();for(let a=0;a<=s;a+=4){const o=Math.sin(a*c+n+t.offset),s=l+o*d;0===a?e.moveTo(a,s):e.lineTo(a,s)}e.strokeStyle=`hsla(${t.hue}deg 90% 60% / 0.6)`,e.lineWidth=3,e.shadowBlur=20,e.shadowColor=`hsla(${t.hue}deg 90% 60% / 0.5)`,e.stroke()})),e.restore()},$=({ctx:e,canvas:t,controls:a,time:n,generator:o})=>{const{width:s,height:i}=r(o,t),l=.5*i,d=a.amplitude,c=.015*a.frequency;e.beginPath();for(let t=0;t<=s;t+=6){const a=l+Math.sin(t*c+.15*n)*d;0===t?e.moveTo(t,a):e.lineTo(t,a)}e.strokeStyle="rgba(14, 165, 233, 0.5)",e.lineWidth=2,e.stroke(),e.beginPath();for(let t=0;t<=s;t+=6){const a=l+Math.sin(t*c*.7+.1*n+1.5)*d*.6;0===t?e.moveTo(t,a):e.lineTo(t,a)}e.strokeStyle="rgba(14, 165, 233, 0.25)",e.lineWidth=1.5,e.stroke()},A=(e,t)=>{(()=>{if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);const t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Promise.resolve()})().then((()=>{if(t){const e=t.textContent;t.textContent="Copied!",t.classList.add("copied"),setTimeout((()=>{t.textContent=e,t.classList.remove("copied")}),2e3)}}))},B=()=>{if("function"!=typeof window.SineWaveGenerator)return void setTimeout(B,50);(()=>{const e=document.getElementById("themeToggle");if(!e)return;const t=localStorage.getItem("theme");t?document.documentElement.setAttribute("data-theme",t):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.setAttribute("data-theme","dark"),e.addEventListener("click",(()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}))})();const t=document.getElementById("loadingOverlay");t&&(t.classList.add("is-hidden"),setTimeout((()=>t.remove()),300)),(()=>{const e=document.querySelector(".site-header"),t=document.querySelector(".nav-toggle");e&&t&&t.addEventListener("click",(()=>{const a=e.classList.toggle("nav-open");t.setAttribute("aria-expanded",a?"true":"false")}))})(),(()=>{const e=document.getElementById("site-nav");if(!e)return;const t=e=>{if(!e)return"/";const t=e.replace(/\/index\.html$/,"").replace(/\/+$/,"");return""===t?"/":t},a=t(window.location.pathname);e.querySelectorAll("a").forEach((e=>{const n=e.getAttribute("href");if(!n||n.startsWith("http"))return;const o=t(new URL(n,window.location.origin).pathname),s="/"===o;(s&&"/"===a||!s&&a.startsWith(o))&&e.classList.add("is-active")}))})(),document.querySelectorAll("[data-example]").forEach((e=>{const t=e.querySelector("canvas");if(!t||t.getAttribute("aria-describedby"))return;const a=e.querySelector(".gallery-head p")||e.querySelector(":scope > p")||e.querySelector("p");if(!a)return;const n=`${e.dataset.example}-desc`;if(!document.getElementById(n)){const t=document.createElement("span");t.className="visually-hidden",t.id=n,t.textContent=a.textContent.trim(),e.appendChild(t)}t.setAttribute("aria-describedby",n)})),(()=>{const e={pulseMatrix:{purpose:"Add rhythm to structured layouts.",why:"Grid interference reads as energy without visual noise."},dnaHelix:{purpose:"Create depth with minimal geometry.",why:"Counterphase strands create instant parallax."},fluidColumn:{purpose:"Give panels a liquid accent.",why:"Phase‑shifted columns feel organic at low cost."},diagonalRain:{purpose:"Add direction and momentum.",why:"Angle‑based strokes imply motion without full particles."},lissajousOrbit:{purpose:"Show elegant orbital motion.",why:"Dual frequencies trace stable paths."},lissajousExplorer:{purpose:"Highlight complex motion quickly.",why:"Frequency offsets create rich loops."},feedbackLoop:{purpose:"Communicate intensity shifts.",why:"Amplitude modulation builds visible dynamics."},waveformTerrain:{purpose:"Create layered horizons.",why:"Depth‑shifted phases form terrain."},radialBloom:{purpose:"Add a focal pulse.",why:"Radial rings peak on downbeats."},gradientFill:{purpose:"Turn waves into shapes.",why:"Closed paths allow layered fills."},audioVisualizerSim:{purpose:"Preview audio energy quickly.",why:"Simulated bins map cleanly to height."},labOcean:{purpose:"Calm, cinematic backdrops.",why:"Layered horizons soften motion."},labHelix:{purpose:"Add vertical depth cues.",why:"Helix strands imply 3D motion."},labPulse:{purpose:"Create a steady heartbeat.",why:"Radial pulses read as rhythm."},labOrbit:{purpose:"Show a clean orbital loop.",why:"Phase offsets keep the path stable."},moireInterference:{purpose:"Build visual tension fast.",why:"Interference lines create moiré."},kineticTypography:{purpose:"Animate type without heavy assets.",why:"Wave‑driven offsets add life."},dampedSine:{purpose:"Show motion decay.",why:"Exponential damping reads as physics."},recursiveSine:{purpose:"Show complex oscillation.",why:"Nested waves add richness."},verticalWave:{purpose:"Create flowing ribbons.",why:"Layered offsets add parallax."},dashArray:{purpose:"Introduce cadence and texture.",why:"Dash patterns add visual rhythm."},variableWidth:{purpose:"Make motion feel alive.",why:"Width modulation tracks energy."},compositingGlow:{purpose:"Add premium glow effects.",why:"Screen blending deepens color."},zenMode:{purpose:"Calm, minimal background motion.",why:"Low‑contrast waves stay subtle."}};document.querySelectorAll("[data-example]").forEach((t=>{if(!t.closest("#examples"))return;const a=e[t.dataset.example];if(!a||t.querySelector(".example-meta"))return;const n=document.createElement("div");n.className="example-meta";const o=document.createElement("p");o.className="meta-line",o.innerHTML=`<span>Purpose</span>${a.purpose}`;const s=document.createElement("p");s.className="meta-line",s.innerHTML=`<span>Why it works</span>${a.why}`,n.appendChild(o),n.appendChild(s);const r=t.querySelector(".gallery-head")||t.querySelector("h3")||t.firstElementChild;r&&r.parentNode?r.parentNode.insertBefore(n,r.nextSibling):t.appendChild(n)}))})(),document.querySelectorAll("[data-search]").forEach((e=>{const t=e.getAttribute("data-search"),a="examples"===t?Array.from(document.querySelectorAll("[data-example]")):"api"===t?Array.from(document.querySelectorAll(".cheat-table tbody tr")):[];0!==a.length&&e.addEventListener("input",(()=>{const t=e.value.trim().toLowerCase();a.forEach((e=>{const a=e.textContent.toLowerCase(),n=""===t||a.includes(t);e.style.display=n?"":"none"}))}))}));const O=e=>{try{e()}catch(e){}};O((()=>(()=>{const t=(e,t)=>{d(e,(()=>t.start()))},o=document.getElementById("sineCanvasBasic");if(o){const e=h(o);e.addWave({amplitude:22,wavelength:160,speed:.05*a,segmentLength:10,strokeStyle:"hsla(0deg 80% 60% / 0.75)"}),e.addWave({amplitude:16,wavelength:200,speed:.04*a,segmentLength:12,strokeStyle:"hsla(120deg 80% 60% / 0.65)"}),e.addWave({amplitude:12,wavelength:120,speed:.06*a,segmentLength:8,strokeStyle:"hsla(220deg 80% 60% / 0.65)"}),t(o,e)}const s=document.getElementById("sineCanvasMulti");if(s){const e=h(s);e.addWave({amplitude:18,wavelength:140,speed:.04*a,segmentLength:10}),e.addWave({amplitude:28,wavelength:200,speed:.035*a,segmentLength:12,strokeStyle:"rgba(14,165,233,0.5)"}),e.addWave({amplitude:12,wavelength:90,speed:.05*a,segmentLength:8,strokeStyle:"rgba(15,23,42,0.35)"}),t(s,e)}const r=document.getElementById("sineCanvasPointer");if(r){const o=h(r);o.addWave({amplitude:32,wavelength:180,speed:.045*a,segmentLength:8});const s={x:.5,y:.5,rafId:null},i=()=>{s.rafId=null;const t=40+120*(1-2*Math.abs(s.y-.5)),a=120+240*(1-2*Math.abs(s.x-.5));o.waves.forEach((n=>{n.amplitude=t,n.wavelength=a,n.phase=s.y*e}))};r.addEventListener("pointermove",(e=>{const t=r.getBoundingClientRect();s.x=n((e.clientX-t.left)/t.width),s.y=n((e.clientY-t.top)/t.height),s.rafId||(s.rafId=requestAnimationFrame(i))})),t(r,o)}const i=document.getElementById("sineCanvasDynamic");if(i){const e=h(i),t=[{amplitude:12,wavelength:100,speed:.035*a,segmentLength:10},{amplitude:20,wavelength:140,speed:.04*a,segmentLength:10},{amplitude:28,wavelength:180,speed:.045*a,segmentLength:10},{amplitude:36,wavelength:220,speed:.05*a,segmentLength:12},{amplitude:18,wavelength:120,speed:.038*a,segmentLength:8}];let n=0,o=!1;const s=()=>{e.waves.length<t.length?(e.addWave(t[n]),n=(n+1)%t.length,setTimeout(s,400)):o||(o=!0,setTimeout(r,600))},r=()=>{e.waves.length>1?(e.removeWave(0),setTimeout(r,400)):(o=!1,setTimeout(s,600))};d(i,(()=>{s(),e.start()}))}const l=document.getElementById("sineCanvasPerformance");if(l){const e=h(l,{maxPixelRatio:1});e.addWave({amplitude:18,wavelength:160,speed:.035*a,segmentLength:14}),e.addWave({amplitude:10,wavelength:120,speed:.04*a,segmentLength:16}),e.addWave({amplitude:6,wavelength:90,speed:.045*a,segmentLength:18}),t(l,e)}const c=document.getElementById("sineCanvasEasing");if(c){const e=h(c);e.addWave({amplitude:30,wavelength:160,speed:.04*a,segmentLength:10,easing:m}),t(c,e)}const u=document.getElementById("sineCanvasPause");if(u){const e=h(u);e.addWave({amplitude:24,wavelength:150,speed:.04*a,segmentLength:10});const n=document.querySelector('[data-action="pause"]'),o=document.querySelector('[data-action="resume"]');n&&n.addEventListener("click",(()=>e.stop())),o&&o.addEventListener("click",(()=>e.start())),t(u,e)}})())),O((()=>u("pulseMatrix",4,p))),O((()=>u("dnaHelix",4,g))),O((()=>u("fluidColumn",4,y))),O((()=>u("diagonalRain",4,v))),O((()=>u("lissajousOrbit",3,f))),O((()=>u("lissajousExplorer",4,w))),O((()=>u("feedbackLoop",4,b))),O((()=>u("waveformTerrain",6,x))),O((()=>u("radialBloom",4,S))),O((()=>u("gradientFill",4,q))),O((()=>u("audioVisualizerSim",4,L))),O((()=>u("labOcean",6,x))),O((()=>u("labHelix",4,g))),O((()=>u("labPulse",4,S))),O((()=>u("labOrbit",3,f))),O((()=>u("moireInterference",4,M))),O((()=>u("kineticTypography",4,C))),O((()=>u("dampedSine",4,k))),O((()=>u("recursiveSine",4,E))),O((()=>u("verticalWave",4,T))),O((()=>u("dashArray",4,W))),O((()=>u("variableWidth",4,P))),O((()=>u("compositingGlow",4,I))),O((()=>u("zenMode",8,$))),O((()=>(()=>{const e=document.querySelector('[data-example="stringPhysics"]');if(!e)return;const t=e.querySelector("canvas");if(!t)return;const n=h(t);n.addWave({amplitude:1,wavelength:1,speed:.08*a});const o={amplitude:0,decay:.95};t.addEventListener("pointerdown",(()=>{o.amplitude=100}));const i=n.ctx;n.drawWave=(e,l=1)=>{o.amplitude*=o.decay;const{width:d,height:c}=r(n,t),h=.5*c;i.beginPath();for(let t=0;t<=d;t+=6){const a=h+Math.sin(.02*t+e.phase)*o.amplitude*.02;0===t?i.moveTo(t,a):i.lineTo(t,a)}i.lineWidth=1+.02*Math.abs(o.amplitude),i.shadowBlur=10,i.shadowColor=s(e.phase,128,210),i.strokeStyle=s(e.phase,128,210),i.stroke(),i.shadowBlur=0,e.phase+=.02*l*a},d(t,(()=>n.start()))})())),O((()=>(()=>{const e=document.querySelector('[data-example="audioSpectrogram"]');if(!e)return;const t=e.querySelector("canvas"),n=e.querySelector("[data-action=audio-start]"),s=e.querySelector("[data-audio-status]");if(!t||!n||!s)return;const i=h(t);i.addWave({amplitude:1,wavelength:1,speed:.05*a});const l=i.ctx;let c=null,u=null;n.addEventListener("click",(()=>{c||(s.textContent="Listening",(async()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=await navigator.mediaDevices.getUserMedia({audio:!0}),a=e.createMediaStreamSource(t);c=e.createAnalyser(),c.fftSize=128,u=new Uint8Array(c.frequencyBinCount),a.connect(c),s.textContent="Live"}catch{s.textContent="Blocked"}})())})),i.drawWave=(e,n=1)=>{const{width:s,height:d}=r(i,t);c&&u&&c.getByteFrequencyData(u);const h=s/64;l.lineWidth=1.5;for(let t=0;t<64;t+=1){const a=Math.floor(t/64*(u?u.length:64)),n=u?u[a]/255:.5*(Math.sin(e.phase+.2*t)+1),s=.3*n*d,r=t*h+.5*h,i=.5*d;l.beginPath(),l.moveTo(r,i-s),l.lineTo(r,i+s);const c=o(n,180+t);l.strokeStyle=`hsla(${c}deg 80% 55% / 0.7)`,l.stroke()}e.phase+=.02*n*a},d(t,(()=>i.start()))})())),O((()=>(()=>{const e=document.getElementById("responsiveResizeCanvas");if(!e)return;const t=h(e,{autoResize:!0});t.addWave({amplitude:24,wavelength:140,speed:.04*a,segmentLength:10}),t.addWave({amplitude:16,wavelength:200,speed:.03*a,segmentLength:12,strokeStyle:"rgba(14,165,233,0.4)"});const n=e.parentElement;n&&new ResizeObserver((()=>{t.resize()})).observe(n),d(e,(()=>t.start()))})())),O((()=>(()=>{const e=document.getElementById("heroBackgroundCanvas");if(!e)return;const t=h(e,{autoResize:!0});t.addWave({amplitude:1,wavelength:1,speed:.02});const n=t.ctx;t.drawWave=(o,s=1)=>{(({ctx:e,canvas:t,generator:a,time:n})=>{const{width:o,height:s}=r(a,t),i=.5*s;[{amplitude:15,freq:.008,speed:.3,alpha:.12},{amplitude:10,freq:.012,speed:.2,alpha:.08},{amplitude:8,freq:.006,speed:.4,alpha:.1}].forEach((t=>{e.beginPath();for(let a=0;a<=o;a+=8){const o=Math.sin(a*t.freq+n*t.speed),s=i+o*t.amplitude;0===a?e.moveTo(a,s):e.lineTo(a,s)}e.strokeStyle=`rgba(14, 165, 233, ${t.alpha})`,e.lineWidth=1.5,e.stroke()}))})({ctx:n,canvas:e,generator:t,time:o.phase}),o.phase+=.01*s*a},t.start()})())),O((()=>(()=>{const e=document.getElementById("playgroundCanvas");if(!e)return;const t=e.closest(".playground-card");if(!t)return;const n=c(t),o=h(e);i(t),l(t,o);const s={sineInOut:(e,t)=>t*(Math.sin(e*Math.PI)+1)/2,sineIn:(e,t)=>t*(1-Math.cos(e*Math.PI/2)),sineOut:(e,t)=>t*Math.sin(e*Math.PI/2),linear:(e,t)=>t*e},r={ocean:{waveCount:3,amplitude:20,wavelength:280,speed:.4,segmentLength:10,easing:"sineInOut"},heartbeat:{waveCount:1,amplitude:60,wavelength:80,speed:2,segmentLength:6,easing:"sineIn"},highfreq:{waveCount:4,amplitude:15,wavelength:40,speed:1.5,segmentLength:4,easing:"linear"},stormy:{waveCount:5,amplitude:50,wavelength:120,speed:2.5,segmentLength:8,easing:"sineOut"}},d=document.getElementById("playgroundPreset");d&&d.addEventListener("change",(()=>{const e=r[d.value];if(!e)return;t.querySelectorAll("[data-control]").forEach((t=>{const a=t.dataset.control;"preset"!==a&&"strokeColor"!==a&&void 0!==e[a]&&(t.value=e[a],t.dispatchEvent(new Event("input",{bubbles:!0})))}));const a=t.querySelector('[data-control="easing"]');a&&e.easing&&(a.value=e.easing,a.dispatchEvent(new Event("change",{bubbles:!0})))}));const u=()=>{const e=Number(n.waveCount)||2,t=Number(n.amplitude)||30,r=Number(n.wavelength)||140,i=Number(n.speed)||.8,l=Number(n.segmentLength)||10,d=s[n.easing||"sineInOut"]||s.sineInOut,c=n.strokeColor||null;for(;o.waves.length>e;)o.removeWave(o.waves.length-1);for(;o.waves.length<e;)o.addWave({amplitude:t,wavelength:r,speed:.05*i,segmentLength:l,easing:d,strokeStyle:c});o.waves.forEach(((e,n)=>{e.amplitude=t,e.wavelength=r+30*n,e.speed=.05*i*a,e.segmentLength=l,e.easing=d,e.strokeStyle=c}))};t.addEventListener("input",u),t.addEventListener("change",u),u();const m=document.getElementById("playgroundCopyConfig");m&&m.addEventListener("click",(()=>{const e=n.easing||"sineInOut",t=[],a=Number(n.waveCount)||2;for(let o=0;o<a;o++)t.push(`    { amplitude: ${n.amplitude}, wavelength: ${Number(n.wavelength)+30*o}, speed: ${n.speed}, segmentLength: ${n.segmentLength}, easing: Ease.${e}${n.strokeColor?`, strokeStyle: "${n.strokeColor}"`:""} }`);const o=`const generator = new SineWaveGenerator({\n  el: "#myCanvas",\n  waves: [\n${t.join(",\n")}\n  ]\n});\ngenerator.start();`;A(o,m)}));const p=document.getElementById("playgroundFullscreen");p&&p.addEventListener("click",(()=>{t.classList.toggle("is-fullscreen"),p.textContent=t.classList.contains("is-fullscreen")?"Exit Fullscreen":"Fullscreen",o.resize()})),o.start()})())),O((()=>(()=>{const t=document.querySelector('[data-example="rainbowFundamentals"]');if(!t)return;const n=t.querySelector("canvas");if(!n)return;const o=document.createElement("div");o.style.position="absolute",o.style.top="12px",o.style.right="12px",o.style.padding="6px 10px",o.style.background="rgba(15, 23, 42, 0.7)",o.style.color="#fff",o.style.fontSize="12px",o.style.borderRadius="999px",o.style.zIndex="2",o.textContent="rainbow: init",t.style.position="relative",t.appendChild(o);try{const s=h(n,{autoResize:!0});s.unbindEvents(),o.textContent="rainbow: generator",i(t),l(t,s);const r=[0,45,90,150,210,265,320],c=[-1,-.7,-.35,0,.35,.7,1],u=.014*a,m=300,p=30,g=6;for(let e=0;e<7;e+=1){const t=e%2==0?1:-1;s.addWave({amplitude:p-2*e,wavelength:m-14*e,speed:u*(1-.08*e),segmentLength:5,rotate:(g+1.5*e)%360}),s.waves[s.waves.length-1]._rotateDir=t}s.waves.forEach(((e,t)=>{e._rainbowOffset=r[t%r.length],e._rainbowIndex=t}));const y=(e=0)=>{const t=s.displayWidth||n.clientWidth||1,a=[0,40,120,200,260,300,350];return n=>{const o=s.ctx.createLinearGradient(0,0,t,0);return o.addColorStop(0,`hsla(${(a[0]+e+n)%360}, 85%, 60%, 0.9)`),o.addColorStop(.16,`hsla(${(a[1]+e+n)%360}, 90%, 60%, 0.9)`),o.addColorStop(.33,`hsla(${(a[2]+e+n)%360}, 85%, 55%, 0.9)`),o.addColorStop(.5,`hsla(${(a[3]+e+n)%360}, 90%, 60%, 0.9)`),o.addColorStop(.66,`hsla(${(a[4]+e+n)%360}, 85%, 65%, 0.9)`),o.addColorStop(.83,`hsla(${(a[5]+e+n)%360}, 80%, 65%, 0.9)`),o.addColorStop(1,`hsla(${(a[6]+e+n)%360}, 85%, 60%, 0.9)`),o}},v=s.resize.bind(s);s.resize=()=>{const e=v();return s._gradientFactory=y(),e},s.drawWave=(t,a=1)=>{const n=s.ctx;s._gradientFactory||(s._gradientFactory=y()),t.strokeStyle=s._gradientFactory((12*t.phase%360+(t._rainbowOffset||0))%360);const o=t._rainbowIndex||0;"number"!=typeof s._spinPhase&&(s._spinPhase=t.phase),0===o&&(s._spinPhase+=.09*a);const r=s._spinPhase+.7*o;"number"!=typeof s._centerY&&(s._centerY=.5*s.displayHeight,s._centerYTarget=s._centerY),"number"!=typeof s._phaseOffset&&(s._phaseOffset=0,s._phaseOffsetTarget=0),s._centerY+=.08*(s._centerYTarget-s._centerY),s._phaseOffset+=.08*(s._phaseOffsetTarget-s._phaseOffset);const i=s._centerY,l=Math.sin(r),d=.5*(Math.cos(r)+1),h=.28*Math.sin(.5*r+.15*o)*s.displayHeight,u=c[o%c.length]+12*l+h;n.save(),n.translate(0,i+u),n.scale(1,.3+.7*d),n.translate(0,-i),n.shadowBlur=20,n.shadowColor="rgba(255, 255, 255, 0.35)",n.globalAlpha=.45+.55*d,n.beginPath();const m=s.displayWidth,p=s.displayHeight,g=.5*p,v=Math.max(48,.18*m),f=m+2*v,w=Math.max(1,Math.round(t.segmentLength||6)),b=t.easing||((e,t)=>{const a=Math.min(1,Math.max(0,e));return t*Math.sin(a*Math.PI*1.61803398875)}),x=Math.min(.34*p,t.amplitude*Math.max(1.2,p/160));for(let a=-v;a<=m+v;a+=w){const o=(a+v)/f,r=b(o,x*l),i=Math.sin(o*e+t.phase+s._phaseOffset)*r+g;a===-v?n.moveTo(a,i):n.lineTo(a,i)}return n.strokeStyle=t.strokeStyle,n.lineWidth=2.2,n.stroke(),n.restore(),s};let f=0,w=0;const b=e=>{o.textContent=`rainbow: ${e} | ${w}f`},x=()=>{if(s.animationFrameId)return void b("already");let e=performance.now();const t=a=>{const n=Math.min(5,Math.max(.2,(a-e)/16.67));e=a,s.resize(),s.ctx.clearRect(0,0,s.displayWidth,s.displayHeight),s.waves.forEach((e=>s.drawWave(e,n))),w+=1,w%30==0&&b(`manual ${s.displayWidth}x${s.displayHeight}`),s.animationFrameId=requestAnimationFrame(t)};b("manual start"),s.animationFrameId=requestAnimationFrame(t)},S=()=>{s.resize(),s.start(),b(`start ${s.displayWidth}x${s.displayHeight}`),!s.animationFrameId&&f<6&&(f+=1,setTimeout(S,200)),!s.animationFrameId&&f>=6&&x()};d(n,S),requestAnimationFrame(S),setTimeout(S,0),window.addEventListener("load",S,{once:!0}),b("armed");let M=!1;const C=t=>{const a=n.getBoundingClientRect(),o=Math.min(a.height,Math.max(0,t.clientY-a.top)),r=Math.min(a.width,Math.max(0,t.clientX-a.left)),i=a.width>0?r/a.width:0;s._centerYTarget=o,s._phaseOffsetTarget=i*e};n.addEventListener("pointerdown",(e=>{M=!0,n.setPointerCapture?.(e.pointerId),C(e)})),n.addEventListener("pointermove",(e=>{M&&C(e)}),{passive:!0}),n.addEventListener("pointerup",(e=>{M=!1,n.releasePointerCapture?.(e.pointerId)})),n.addEventListener("pointerleave",(()=>{M=!1}));const k=s.waves[0]?.phase??0;if(setTimeout((()=>{(s.waves[0]?.phase??0)===k&&x()}),800),0===s.displayWidth||0===s.displayHeight){const e=new ResizeObserver((()=>{s.resize(),s.displayWidth>0&&s.displayHeight>0&&(S(),e.disconnect())}));e.observe(t)}}catch(e){const t=e&&"string"==typeof e.message?e.message:String(e);o.textContent=`rainbow: ${t}`.slice(0,80)}finally{o.remove()}})())),O((()=>(()=>{const e=document.querySelector('[data-example="heroBackgroundGuide"]');if(!e)return;const t=e.querySelector("canvas");if(!t)return;const n=h(t,{autoResize:!0});i(e),l(e,n),n.addWave({amplitude:14,wavelength:200,speed:.03*a,segmentLength:10,strokeStyle:"rgba(14, 165, 233, 0.45)"}),n.addWave({amplitude:8,wavelength:140,speed:.02*a,segmentLength:12,strokeStyle:"rgba(124, 58, 237, 0.2)"}),d(t,(()=>n.start()))})())),O((()=>(()=>{const e=document.querySelector('[data-example="scrollReactive"]');if(!e)return;const t=e.querySelector("canvas");if(!t)return;const o=h(t,{autoResize:!0});i(e),l(e,o),o.addWave({amplitude:18,wavelength:180,speed:.04*a,segmentLength:10});const s=()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=e>0?n(window.scrollY/e):0,a=10+30*t,s=140+240*(1-t);o.waves.forEach((e=>{e.amplitude=a,e.wavelength=s}))};let r=null;window.addEventListener("scroll",(()=>{r||(r=requestAnimationFrame((()=>{r=null,s()})))}),{passive:!0}),s(),d(t,(()=>o.start()))})())),O((()=>(()=>{const e=document.querySelector('[data-example="qualityPresets"]');if(!e)return;const t=e.querySelector("canvas");if(!t)return;const n=h(t,{autoResize:!0});i(e),l(e,n),n.addWave({amplitude:22,wavelength:160,speed:.04*a,segmentLength:10});const o=Array.from(e.querySelectorAll("[data-quality]")),s=e.querySelector("[data-quality-status]")||(()=>{const t=document.createElement("div");return t.className="quality-status",e.appendChild(t),t})(),r=e=>{o.forEach((t=>{t.classList.toggle("is-active",t.getAttribute("data-quality")===e)})),s.textContent=`Quality preset: ${e}`};o.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-quality");t&&(n.setQualityPreset(t),r(t))}))})),r("balanced"),d(t,(()=>n.start()))})())),document.querySelectorAll(".code-block").forEach((e=>{if(e.querySelector(".copy-btn"))return;e.style.position="relative";const t=document.createElement("button");t.className="copy-btn",t.type="button",t.textContent="Copy",t.addEventListener("click",(a=>{a.stopPropagation();const n=e.querySelector("code");A(n?n.textContent:e.textContent,t)})),e.appendChild(t)})),document.querySelectorAll(".view-code-toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.nextElementSibling;if(t&&t.classList.contains("code-reveal")){const a=t.classList.toggle("is-visible");e.textContent=a?"Hide Code":"View Code"}}))}))};document.addEventListener("DOMContentLoaded",(()=>{B()}))})();