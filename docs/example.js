"use strict";(()=>{const e=2*Math.PI,t=e=>Math.min(1,Math.max(0,e)),n=(e,t=210)=>(t+140*e+360)%360,a=(e,t=128,n=210)=>{const a=e*(t/128);return`hsl(${(n+.5*(Math.sin(a)+1)*120)%360}deg 75% 55%)`},s=(e,t)=>({width:e.displayWidth||t.clientWidth||t.width||1,height:e.displayHeight||t.clientHeight||t.height||1}),o=(e,t={})=>new SineWaveGenerator({el:e,...t}),i=(t,n,a)=>{const s=document.querySelector(`[data-example="${t}"]`);if(!s)return;const i=s.querySelector("canvas");if(!i)return;const l=(e=>{const t={bpm:96,amplitude:16,frequency:8,phase:0};return Array.from(e.querySelectorAll("[data-control]")).forEach(e=>{const n=e.dataset.control;t[n]=Number(e.value);const a=e.closest(".control-row").querySelector("[data-value]");a&&(a.textContent=e.value),e.addEventListener("input",()=>{t[n]=Number(e.value),a&&(a.textContent=e.value)})}),t})(s),r=o(i);r.addWave({amplitude:1,wavelength:1,speed:.05});const h=r.ctx;r.drawWave=(t,s=1)=>{const o=((e,t)=>e/(3600*Math.max(1,t)))(l.bpm,n),d=t.phase+l.phase*Math.PI/180;a({ctx:h,canvas:i,generator:r,controls:l,time:d}),t.phase+=o*e*s},r.start()},l=(e,t)=>{const n=.1909830056250526;if(e<n||e>1-n)return 0;const a=(e-n)/(1-2*n);return Math.sin(a*Math.PI)*t},r=({ctx:a,canvas:o,controls:i,time:l,generator:r})=>{const{width:h,height:d}=s(r,o),c=h/16,g=d/10,m=.3*i.frequency,u=i.amplitude;for(let s=0;s<=10;s+=1)for(let o=0;o<=16;o+=1){const i=o*m+l,r=s*m+l,h=Math.sin(i)*Math.cos(r),d=4+u*t((h+1)/2),v=n(h,190);a.fillStyle=`hsl(${v}deg 70% 60%)`,a.beginPath(),a.arc(o*c+.2*c,s*g+.2*g,.25*d,0,e),a.fill()}},h=({ctx:t,canvas:a,controls:o,time:i,generator:l})=>{const{width:r,height:h}=s(l,a),d=o.amplitude,c=.04*o.frequency,g=.5*r;t.lineWidth=2;for(let a=0;a<=h;a+=6){const s=a*c+i,o=Math.sin(s)*d,l=Math.sin(s+Math.PI)*d,r=.5*(Math.cos(s)+1),h=n(r,210);t.strokeStyle=`hsla(${h}deg 80% 60% / ${.35+.5*r})`,t.beginPath(),t.moveTo(g+o,a),t.lineTo(g+l,a),t.stroke(),t.fillStyle=`hsla(${h}deg 80% 55% / ${.4+.6*r})`,t.beginPath(),t.arc(g+o,a,3+2*r,0,e),t.fill(),t.beginPath(),t.arc(g+l,a,3+2*(1-r),0,e),t.fill()}},d=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:l,height:r}=s(i,t),h=n.amplitude,d=.05*n.frequency;for(let t=0;t<6;t+=1){const n=l/7*(t+1);e.beginPath();for(let a=0;a<=r;a+=6){const s=a*d+o+.6*t,i=n+Math.sin(s)*h;0===a?e.moveTo(i,a):e.lineTo(i,a)}const s=1.5+1.2*(Math.sin(o+t)+1);e.lineWidth=s,e.shadowBlur=12,e.shadowColor=a(o,128,200+10*t),e.strokeStyle=a(o,128,200+10*t),e.stroke()}e.shadowBlur=0},c=({ctx:e,canvas:t,controls:n,time:o,generator:i})=>{const{width:l,height:r}=s(i,t),h=.4*n.amplitude,d=.08*n.frequency;for(let t=0;t<50;t+=1){const n=t/50*l,s=t/50*r,i=Math.sin(o+t*d)*h,c=n+i,g=s+.5*i,m=c+24,u=g+38,v=.8+.05*Math.abs(i);e.lineWidth=v,e.shadowBlur=8,e.shadowColor=a(o,128,240),e.strokeStyle=a(o+.2*t,128,240),e.beginPath(),e.moveTo(c,g),e.lineTo(m,u),e.stroke()}e.shadowBlur=0},g=({ctx:t,canvas:o,controls:i,time:l,generator:r})=>{const{width:h,height:d}=s(r,o),c=.5*h,g=.5*d,m=i.amplitude,u=i.frequency,v=i.phase*Math.PI/180;t.lineWidth=1.5+1.4*Math.abs(Math.sin(l)),t.shadowBlur=10,t.shadowColor=a(l,128,240),t.beginPath();for(let n=0;n<=240;n+=1){const a=n/240*e,s=c+Math.sin(a*u+l)*m*.9,o=g+Math.sin(a*(u+1)+v+l)*m;0===n?t.moveTo(s,o):t.lineTo(s,o)}const p=n(Math.sin(l),240);t.strokeStyle=`hsla(${p}deg 75% 55% / 0.8)`,t.stroke(),t.shadowBlur=0;const f=c+Math.sin(l*u)*m*.9,w=g+Math.sin(l*(u+1)+v)*m;t.fillStyle=`hsl(${p}deg 80% 60%)`,t.beginPath(),t.arc(f,w,6,0,e),t.fill()},m=({ctx:e,canvas:t,controls:a,time:o,generator:i})=>{const{width:l,height:r}=s(i,t),h=.03*a.frequency,d=a.amplitude;for(let t=0;t<8;t+=1){const s=t/7,i=r*(.2+.7*s),c=o+s*a.phase*.03;e.beginPath();for(let t=0;t<=l;t+=6){const n=d*(1-s)+6,a=i+Math.sin(t*h+c)*n;0===t?e.moveTo(t,a):e.lineTo(t,a)}const g=n(s,200);e.strokeStyle=`hsla(${g}deg 70% 55% / ${.2+.6*s})`,e.lineWidth=1.6,e.stroke()}},u=({ctx:t,canvas:o,controls:i,time:l,generator:r})=>{const{width:h,height:d}=s(r,o),c=.5*h,g=.5*d,m=.45*Math.min(h,d),u=.15*i.frequency,v=i.amplitude,p=l/e%1,f=Math.pow(Math.max(0,Math.cos(p*e)),6);for(let s=18;s<m;s+=12){const o=Math.sin(s*u+l),i=o*(v*(.4+f)),r=n(o,280);t.strokeStyle=`hsla(${r}deg 75% 60% / 0.6)`,t.lineWidth=1+1.8*Math.abs(o),t.shadowBlur=10,t.shadowColor=a(l,128,280),t.beginPath(),t.arc(c,g,s+i,0,e),t.stroke()}t.shadowBlur=0},v=({ctx:e,canvas:t,controls:a,time:o,generator:i})=>{const{width:l,height:r}=s(i,t),h=10+2*a.frequency,d=.25*Math.sin(o)+a.phase*Math.PI/360,c=.5*l,g=.5*r,m=.75*Math.max(l,r),u=(t,a)=>{e.save(),e.translate(c,g),e.rotate(t),e.translate(-c,-g);for(let t=-m;t<=l+m;t+=h){const s=Math.sin(t/h*.35+o),i=n(s,a);e.strokeStyle=`hsla(${i}deg 70% 60% / 0.35)`,e.beginPath(),e.moveTo(t,-m),e.lineTo(t,r+m),e.stroke()}e.restore()};u(d,180),u(1.3*-d,240)},p=({ctx:e,canvas:t,controls:a,time:o,generator:i})=>{const{width:l,height:r}=s(i,t),h=a.amplitude,d=.6*a.frequency;e.textAlign="center",e.textBaseline="middle",e.font="600 28px 'SF Pro Text', 'Helvetica Neue', sans-serif";const c="SINE WAVE".split(""),g=18*c.length;c.forEach((t,a)=>{const s=a-c.length/2,i=Math.sin(o+s*d)*h,g=n(i/h,210);e.fillStyle=`hsl(${g}deg 80% 55%)`,e.fillText(t,.5*l+18*s,.5*r+i)}),e.strokeStyle="rgba(15, 23, 42, 0.1)",e.strokeRect(.5*l-.5*g-16,.5*r-30,g+32,60)},f=({ctx:t,canvas:a,controls:o,time:i,generator:l})=>{const{width:r,height:h}=s(l,a),d=.5*h,c=o.amplitude,g=.03*o.frequency,m=i/e%1,u=Math.exp(-3.2*m);t.beginPath();for(let e=0;e<=r;e+=4){const n=d+Math.sin(e*g+i)*c*u;0===e?t.moveTo(e,n):t.lineTo(e,n)}const v=n(u,140);t.strokeStyle=`hsla(${v}deg 70% 55% / 0.8)`,t.lineWidth=2,t.stroke()},w=({ctx:e,canvas:t,controls:o,time:i,generator:l})=>{const{width:r,height:h}=s(l,t),d=.5*h,c=o.amplitude,g=.02*o.frequency,m=.02*Math.sin(.8*i)*o.frequency;e.beginPath();for(let t=0;t<=r;t+=4){const n=.6*Math.sin(i+t*g*.4)+1,a=d+Math.sin(t*(g+m*n)+i)*c*(.6+.4*n);0===t?e.moveTo(t,a):e.lineTo(t,a)}const u=n(Math.sin(i),260);e.strokeStyle=`hsla(${u}deg 70% 55% / 0.85)`,e.lineWidth=1.5+1.5*Math.abs(Math.sin(i)),e.shadowBlur=8,e.shadowColor=a(i,128,260),e.stroke(),e.shadowBlur=0},y=()=>{"function"==typeof window.SineWaveGenerator?((()=>{const n=document.getElementById("sineCanvasBasic");if(n){const e=o(n);e.addWave({amplitude:26,wavelength:140,speed:.18,segmentLength:10}),e.start()}const a=document.getElementById("sineCanvasMulti");if(a){const e=o(a);e.addWave({amplitude:18,wavelength:140,speed:.16,segmentLength:10}),e.addWave({amplitude:28,wavelength:200,speed:.14,segmentLength:12,strokeStyle:"rgba(14,165,233,0.5)"}),e.addWave({amplitude:12,wavelength:90,speed:.2,segmentLength:8,strokeStyle:"rgba(15,23,42,0.35)"}),e.start()}const s=document.getElementById("sineCanvasPointer");if(s){const n=o(s);n.addWave({amplitude:32,wavelength:180,speed:.16,segmentLength:8});const a={x:.5,y:.5,rafId:null},i=()=>{a.rafId=null;const t=40+120*(1-2*Math.abs(a.y-.5)),s=120+240*(1-2*Math.abs(a.x-.5));n.waves.forEach(n=>{n.amplitude=t,n.wavelength=s,n.phase=a.y*e})};s.addEventListener("pointermove",e=>{const n=s.getBoundingClientRect();a.x=t((e.clientX-n.left)/n.width),a.y=t((e.clientY-n.top)/n.height),a.rafId||(a.rafId=requestAnimationFrame(i))}),n.start()}const i=document.getElementById("sineCanvasDynamic");if(i){const e=o(i),t=[{amplitude:12,wavelength:100,speed:.14,segmentLength:10},{amplitude:20,wavelength:140,speed:.16,segmentLength:10},{amplitude:28,wavelength:180,speed:.18,segmentLength:10},{amplitude:36,wavelength:220,speed:.2,segmentLength:12},{amplitude:18,wavelength:120,speed:.15,segmentLength:8}];let n=0,a=!1;const s=()=>{e.waves.length<t.length?(e.addWave(t[n]),n=(n+1)%t.length,setTimeout(s,400)):a||(a=!0,setTimeout(l,600))},l=()=>{e.waves.length>1?(e.removeWave(0),setTimeout(l,400)):(a=!1,setTimeout(s,600))};s(),e.start()}const r=document.getElementById("sineCanvasPerformance");if(r){const e=o(r,{maxPixelRatio:1});e.addWave({amplitude:18,wavelength:160,speed:.12,segmentLength:14}),e.addWave({amplitude:10,wavelength:120,speed:.14,segmentLength:16}),e.addWave({amplitude:6,wavelength:90,speed:.16,segmentLength:18}),e.start()}const h=document.getElementById("sineCanvasEasing");if(h){const e=o(h);e.addWave({amplitude:30,wavelength:160,speed:.18,segmentLength:10,easing:l}),e.start()}const d=document.getElementById("sineCanvasPause");if(d){const e=o(d);e.addWave({amplitude:24,wavelength:150,speed:.18,segmentLength:10});const t=document.querySelector('[data-action="pause"]'),n=document.querySelector('[data-action="resume"]');t&&t.addEventListener("click",()=>e.stop()),n&&n.addEventListener("click",()=>e.start()),e.start()}})(),i("pulseMatrix",4,r),i("dnaHelix",4,h),i("fluidColumn",4,d),i("diagonalRain",4,c),i("lissajousOrbit",3,g),i("waveformTerrain",6,m),i("radialBloom",4,u),i("labOcean",6,m),i("labHelix",4,h),i("labPulse",4,u),i("labOrbit",3,g),i("moireInterference",4,v),i("kineticTypography",4,p),i("dampedSine",4,f),i("recursiveSine",4,w)):setTimeout(y,50)};document.addEventListener("DOMContentLoaded",()=>{y()})})();