"use strict";(()=>{const e=2*Math.PI,t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=t?0:1,a=e=>Math.min(1,Math.max(0,e)),o=(e,t=210)=>(t+140*e+360)%360,s=(e,t=128,n=210)=>`hsl(${(n+60*(Math.sin(e*(t/128))+1))%360}deg 75% 55%)`,i=(e,t)=>({width:e.displayWidth||t.clientWidth||t.width||1,height:e.displayHeight||t.clientHeight||t.height||1}),r=(e,t)=>{if(!e||"function"!=typeof t)return;if(!("IntersectionObserver"in window))return void t();const n=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(n.unobserve(e.target),t())}))}),{threshold:.2});n.observe(e)},l=e=>{const t={bpm:96,amplitude:16,frequency:8,phase:0,volume:60};return Array.from(e.querySelectorAll("[data-control]")).forEach((e=>{const n=e.dataset.control;if("SELECT"===e.tagName)return t[n]=e.value,void e.addEventListener("change",(()=>{t[n]=e.value}));if("color"===e.type)return t[n]=e.value,void e.addEventListener("input",(()=>{t[n]=e.value}));t[n]=Number(e.value);const a=e.closest(".control-row").querySelector("[data-value]");a&&(a.textContent=e.value),e.addEventListener("input",(()=>{t[n]=Number(e.value),a&&(a.textContent=e.value)}))})),t},d=(e,t={})=>new SineWaveGenerator({el:e,...t}),c=(a,o,s)=>{const i=document.querySelector(`[data-example="${a}"]`);if(!i)return;const c=i.querySelector("canvas");if(!c)return;const h=l(i),u=d(c),m=((e,t)=>{let n=!1;return e=>{if(!n&&(n=!0,t)&&!t.querySelector(".demo-error")){const e=document.createElement("span");e.className="demo-error",e.textContent="Demo stopped. Check console.",t.appendChild(e)}}})(0,i);u.addWave({amplitude:1,wavelength:1,speed:.05});const g=u.ctx;u.drawWave=(t,a=1)=>{try{const i=((e,t)=>e/(3600*Math.max(1,t)))(h.bpm,o)*n,r=t.phase+h.phase*Math.PI/180;s({ctx:g,canvas:c,generator:u,controls:h,time:r}),t.phase+=i*e*a}catch(e){m(e),u.stop()}},r(c,t?()=>{u.start(),requestAnimationFrame((()=>u.stop()))}:()=>u.start())},h=(e,t)=>{const n=.1909830056250526;return e<n||e>1-n?0:Math.sin((e-n)/(1-2*n)*Math.PI)*t},u=({ctx:t,canvas:n,controls:s,time:r,generator:l})=>{const{width:d,height:c}=i(l,n),h=d/16,u=c/10,m=.3*s.frequency,g=s.amplitude;for(let n=0;n<=10;n+=1)for(let s=0;s<=16;s+=1){const i=n*m+r,l=Math.sin(s*m+r)*Math.cos(i),d=4+g*a((l+1)/2),c=o(l,190);t.fillStyle=`hsl(${c}deg 70% 60%)`,t.beginPath(),t.arc(s*h+.2*h,n*u+.2*u,.25*d,0,e),t.fill()}},m=({ctx:t,canvas:n,controls:a,time:s,generator:r})=>{const{width:l,height:d}=i(r,n),c=a.amplitude,h=.04*a.frequency,u=.5*l;t.lineWidth=2;for(let n=0;n<=d;n+=6){const a=n*h+s,i=Math.sin(a)*c,r=Math.sin(a+Math.PI)*c,l=.5*(Math.cos(a)+1),d=o(l,210);t.strokeStyle=`hsla(${d}deg 80% 60% / ${.35+.5*l})`,t.beginPath(),t.moveTo(u+i,n),t.lineTo(u+r,n),t.stroke(),t.fillStyle=`hsla(${d}deg 80% 55% / ${.4+.6*l})`,t.beginPath(),t.arc(u+i,n,3+2*l,0,e),t.fill(),t.beginPath(),t.arc(u+r,n,3+2*(1-l),0,e),t.fill()}},g=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:r,height:l}=i(o,t),d=n.amplitude,c=.05*n.frequency;for(let t=0;t<6;t+=1){const n=r/7*(t+1);e.beginPath();for(let o=0;o<=l;o+=6){const s=n+Math.sin(o*c+a+.6*t)*d;0===o?e.moveTo(s,o):e.lineTo(s,o)}const o=1.5+1.2*(Math.sin(a+t)+1);e.lineWidth=o,e.shadowBlur=12,e.shadowColor=s(a,128,200+10*t),e.strokeStyle=s(a,128,200+10*t),e.stroke()}e.shadowBlur=0},v=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:r,height:l}=i(o,t),d=.4*n.amplitude,c=.08*n.frequency;for(let t=0;t<50;t+=1){const n=t/50*r,o=t/50*l,i=Math.sin(a+t*c)*d,h=n+i,u=o+.5*i,m=h+24,g=u+38,v=.8+.05*Math.abs(i);e.lineWidth=v,e.shadowBlur=8,e.shadowColor=s(a,128,240),e.strokeStyle=s(a+.2*t,128,240),e.beginPath(),e.moveTo(h,u),e.lineTo(m,g),e.stroke()}e.shadowBlur=0},p=({ctx:t,canvas:n,controls:a,time:r,generator:l})=>{const{width:d,height:c}=i(l,n),h=.5*d,u=.5*c,m=a.amplitude,g=a.frequency,v=a.phase*Math.PI/180;t.lineWidth=1.5+1.4*Math.abs(Math.sin(r)),t.shadowBlur=10,t.shadowColor=s(r,128,240),t.beginPath();for(let n=0;n<=240;n+=1){const a=n/240*e,o=h+Math.sin(a*g+r)*m*.9,s=u+Math.sin(a*(g+1)+v+r)*m;0===n?t.moveTo(o,s):t.lineTo(o,s)}const p=o(Math.sin(r),240);t.strokeStyle=`hsla(${p}deg 75% 55% / 0.8)`,t.stroke(),t.shadowBlur=0;const f=h+Math.sin(r*g)*m*.9,y=u+Math.sin(r*(g+1)+v)*m;t.fillStyle=`hsl(${p}deg 80% 60%)`,t.beginPath(),t.arc(f,y,6,0,e),t.fill()},f=({ctx:t,canvas:n,controls:a,time:o,generator:r})=>{const{width:l,height:d}=i(r,n),c=.5*l,h=.5*d,u=a.amplitude,m=.8*a.amplitude,g=Math.max(1,Math.round(a.frequency)),v=Math.max(1,Math.round(a.frequency+2)),p=a.phase*Math.PI/180;t.lineWidth=1.5+1.8*Math.abs(Math.sin(o)),t.shadowBlur=10,t.shadowColor=s(o,128,220),t.beginPath();for(let n=0;n<=320;n+=1){const a=n/320*e,s=c+u*Math.sin(g*a+p+o),i=h+m*Math.sin(v*a+o);0===n?t.moveTo(s,i):t.lineTo(s,i)}t.strokeStyle=s(o,128,220),t.stroke(),t.shadowBlur=0},y=({ctx:e,canvas:t,controls:n,time:a,generator:r})=>{const{width:l,height:d}=i(r,t),c=.5*d,h=n.amplitude,u=.04*n.frequency,m=.5*(Math.sin(.8*a)+1);e.beginPath();for(let t=0;t<=l;t+=4){const n=Math.sin(.006*t+a)*h*(.2+m),o=c+Math.sin(t*u+1.6*a)*n;0===t?e.moveTo(t,o):e.lineTo(t,o)}const g=o(m,260);e.lineWidth=1.5+2.2*m,e.shadowBlur=10,e.shadowColor=s(a,128,260),e.strokeStyle=`hsla(${g}deg 70% 55% / 0.85)`,e.stroke(),e.shadowBlur=0},w=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=.03*n.frequency,c=n.amplitude;for(let t=0;t<8;t+=1){const s=t/7,i=l*(.2+.7*s),h=a+s*n.phase*.03;e.beginPath();for(let t=0;t<=r;t+=6){const n=c*(1-s)+6,a=i+Math.sin(t*d+h)*n;0===t?e.moveTo(t,a):e.lineTo(t,a)}const u=o(s,200);e.strokeStyle=`hsla(${u}deg 70% 55% / ${.2+.6*s})`,e.lineWidth=1.6,e.stroke()}},b=({ctx:t,canvas:n,controls:a,time:r,generator:l})=>{const{width:d,height:c}=i(l,n),h=.5*d,u=.5*c,m=.45*Math.min(d,c),g=.15*a.frequency,v=a.amplitude,p=Math.pow(Math.max(0,Math.cos(r/e%1*e)),6);for(let n=18;n<m;n+=12){const a=Math.sin(n*g+r),i=Math.max(1,n+a*v*(.4+p)),l=o(a,280);t.strokeStyle=`hsla(${l}deg 75% 60% / 0.6)`,t.lineWidth=1+1.8*Math.abs(a),t.shadowBlur=10,t.shadowColor=s(r,128,280),t.beginPath(),t.arc(h,u,i,0,e),t.stroke()}t.shadowBlur=0},M=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=10+2*n.frequency,c=.25*Math.sin(a)+n.phase*Math.PI/360,h=.5*r,u=.5*l,m=.75*Math.max(r,l),g=(t,n)=>{e.save(),e.translate(h,u),e.rotate(t),e.translate(-h,-u);for(let t=-m;t<=r+m;t+=d){const s=Math.sin(t/d*.35+a),i=o(s,n);e.strokeStyle=`hsla(${i}deg 70% 60% / 0.35)`,e.beginPath(),e.moveTo(t,-m),e.lineTo(t,l+m),e.stroke()}e.restore()};g(c,180),g(1.3*-c,240)},k=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=n.amplitude,c=.6*n.frequency;e.textAlign="center",e.textBaseline="middle",e.font="600 28px 'SF Pro Text', 'Helvetica Neue', sans-serif";const h="SINE WAVE".split(""),u=18*h.length;h.forEach(((t,n)=>{const s=n-h.length/2,i=Math.sin(a+s*c)*d,u=o(i/d,210);e.fillStyle=`hsl(${u}deg 80% 55%)`,e.fillText(t,.5*r+18*s,.5*l+i)})),e.strokeStyle="rgba(15, 23, 42, 0.1)",e.strokeRect(.5*r-.5*u-16,.5*l-30,u+32,60)},x=({ctx:t,canvas:n,controls:a,time:s,generator:r})=>{const{width:l,height:d}=i(r,n),c=.5*d,h=a.amplitude,u=.03*a.frequency,m=Math.exp(s/e%1*-3.2);t.beginPath();for(let e=0;e<=l;e+=4){const n=c+Math.sin(e*u+s)*h*m;0===e?t.moveTo(e,n):t.lineTo(e,n)}const g=o(m,140);t.strokeStyle=`hsla(${g}deg 70% 55% / 0.8)`,t.lineWidth=2,t.stroke()},S=({ctx:e,canvas:t,controls:n,time:a,generator:r})=>{const{width:l,height:d}=i(r,t),c=.5*d,h=n.amplitude,u=.02*n.frequency,m=.02*Math.sin(.8*a)*n.frequency;e.beginPath();for(let t=0;t<=l;t+=4){const n=.6*Math.sin(a+t*u*.4)+1,o=c+Math.sin(t*(u+m*n)+a)*h*(.6+.4*n);0===t?e.moveTo(t,o):e.lineTo(t,o)}const g=o(Math.sin(a),260);e.strokeStyle=`hsla(${g}deg 70% 55% / 0.85)`,e.lineWidth=1.5+1.5*Math.abs(Math.sin(a)),e.shadowBlur=8,e.shadowColor=s(a,128,260),e.stroke(),e.shadowBlur=0},C=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:s,height:r}=i(o,t),l=.5*r,d=n.amplitude,c=.03*n.frequency,h=e.createLinearGradient(0,l-d,0,r);h.addColorStop(0,"rgba(14, 165, 233, 0.6)"),h.addColorStop(.5,"rgba(14, 165, 233, 0.2)"),h.addColorStop(1,"rgba(14, 165, 233, 0)"),e.beginPath(),e.moveTo(0,r);for(let t=0;t<=s;t+=4){const n=Math.sin(t*c+a);e.lineTo(t,l+n*d)}e.lineTo(s,r),e.closePath(),e.fillStyle=h,e.fill(),e.beginPath();for(let t=0;t<=s;t+=4){const n=l+Math.sin(t*c+a)*d;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.8)",e.lineWidth=2,e.stroke()},E=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:s,height:r}=i(o,t),l=.5*r,d=(n.volume||60)/100,c=n.amplitude*d;[{freq:.02,speed:1,hue:200,alpha:.7},{freq:.035,speed:1.4,hue:240,alpha:.5},{freq:.05,speed:.8,hue:280,alpha:.4},{freq:.015,speed:1.8,hue:320,alpha:.3}].forEach((t=>{e.beginPath();for(let n=0;n<=s;n+=4){const o=Math.sin(n*t.freq+a*t.speed),s=l+o*c;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`hsla(${t.hue}deg 75% 55% / ${t.alpha})`,e.lineWidth=1.5+d,e.stroke()}))},q=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=.5*r,c=n.amplitude,h=.03*n.frequency;for(let t=0;t<3;t++){e.beginPath();for(let n=0;n<=l;n+=4){const o=d+Math.sin(n*h+a+.8*t)*c*(1-.25*t);0===n?e.moveTo(o,n):e.lineTo(o,n)}const n=o(t/3,200);e.strokeStyle=`hsla(${n}deg 75% 55% / ${.8-.2*t})`,e.lineWidth=2-.4*t,e.stroke()}},L=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=.5*l,c=n.amplitude,h=.03*n.frequency;[[12,6],[4,8],[20,4,4,4]].forEach(((t,n)=>{e.beginPath(),e.setLineDash(t);for(let t=0;t<=r;t+=4){const o=Math.sin(t*h+a+1.2*n),s=d+o*c*(1-.2*n)+20*(n-1);0===t?e.moveTo(t,s):e.lineTo(t,s)}const s=o(n/3,210);e.strokeStyle=`hsla(${s}deg 70% 55% / 0.8)`,e.lineWidth=2,e.stroke()})),e.setLineDash([])},T=({ctx:e,canvas:t,controls:n,time:a,generator:s})=>{const{width:r,height:l}=i(s,t),d=.5*l,c=n.amplitude,h=.025*n.frequency;for(let t=0;t<r-6;t+=6){const n=Math.sin(t*h+a),s=d+n*c,i=d+Math.sin((t+6)*h+a)*c,r=1+4*Math.abs(Math.sin(.01*t+2*a)),l=o(n,220);e.beginPath(),e.moveTo(t,s),e.lineTo(t+6,i),e.strokeStyle=`hsla(${l}deg 75% 55% / 0.85)`,e.lineWidth=r,e.stroke()}},W=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:s,height:r}=i(o,t),l=.5*r,d=n.amplitude,c=.025*n.frequency;e.save(),e.globalCompositeOperation="screen",[{hue:200,offset:0},{hue:260,offset:1.2},{hue:320,offset:2.4}].forEach((t=>{e.beginPath();for(let n=0;n<=s;n+=4){const o=Math.sin(n*c+a+t.offset),s=l+o*d;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`hsla(${t.hue}deg 90% 60% / 0.6)`,e.lineWidth=3,e.shadowBlur=20,e.shadowColor=`hsla(${t.hue}deg 90% 60% / 0.5)`,e.stroke()})),e.restore()},P=({ctx:e,canvas:t,controls:n,time:a,generator:o})=>{const{width:s,height:r}=i(o,t),l=.5*r,d=n.amplitude,c=.015*n.frequency;e.beginPath();for(let t=0;t<=s;t+=6){const n=l+Math.sin(t*c+.15*a)*d;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.5)",e.lineWidth=2,e.stroke(),e.beginPath();for(let t=0;t<=s;t+=6){const n=l+Math.sin(t*c*.7+.1*a+1.5)*d*.6;0===t?e.moveTo(t,n):e.lineTo(t,n)}e.strokeStyle="rgba(14, 165, 233, 0.25)",e.lineWidth=1.5,e.stroke()},I=(e,t)=>{(()=>{if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);const t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Promise.resolve()})().then((()=>{if(t){const e=t.textContent;t.textContent="Copied!",t.classList.add("copied"),setTimeout((()=>{t.textContent=e,t.classList.remove("copied")}),2e3)}}))},B=()=>{if("function"!=typeof window.SineWaveGenerator)return void setTimeout(B,50);(()=>{const e=document.getElementById("themeToggle");if(!e)return;const t=localStorage.getItem("theme");t?document.documentElement.setAttribute("data-theme",t):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.setAttribute("data-theme","dark"),e.addEventListener("click",(()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}))})();const $=document.getElementById("loadingOverlay");$&&($.classList.add("is-hidden"),setTimeout((()=>$.remove()),300)),(()=>{const e=document.querySelector(".site-header"),t=document.querySelector(".nav-toggle");e&&t&&t.addEventListener("click",(()=>{const n=e.classList.toggle("nav-open");t.setAttribute("aria-expanded",n?"true":"false")}))})();const A=e=>{try{e()}catch(e){}};A((()=>(()=>{const o=(e,n)=>{r(e,t?()=>{n.start(),requestAnimationFrame((()=>n.stop()))}:()=>n.start())},s=document.getElementById("sineCanvasBasic");if(s){const e=d(s);e.addWave({amplitude:26,wavelength:140,speed:.04*n,segmentLength:10}),o(s,e)}const i=document.getElementById("sineCanvasMulti");if(i){const e=d(i);e.addWave({amplitude:18,wavelength:140,speed:.04*n,segmentLength:10}),e.addWave({amplitude:28,wavelength:200,speed:.035*n,segmentLength:12,strokeStyle:"rgba(14,165,233,0.5)"}),e.addWave({amplitude:12,wavelength:90,speed:.05*n,segmentLength:8,strokeStyle:"rgba(15,23,42,0.35)"}),o(i,e)}const l=document.getElementById("sineCanvasPointer");if(l){const t=d(l);t.addWave({amplitude:32,wavelength:180,speed:.045*n,segmentLength:8});const s={x:.5,y:.5,rafId:null},i=()=>{s.rafId=null;const n=40+120*(1-2*Math.abs(s.y-.5)),a=120+240*(1-2*Math.abs(s.x-.5));t.waves.forEach((t=>{t.amplitude=n,t.wavelength=a,t.phase=s.y*e}))};l.addEventListener("pointermove",(e=>{const t=l.getBoundingClientRect();s.x=a((e.clientX-t.left)/t.width),s.y=a((e.clientY-t.top)/t.height),s.rafId||(s.rafId=requestAnimationFrame(i))})),o(l,t)}const c=document.getElementById("sineCanvasDynamic");if(c){const e=d(c),a=[{amplitude:12,wavelength:100,speed:.035*n,segmentLength:10},{amplitude:20,wavelength:140,speed:.04*n,segmentLength:10},{amplitude:28,wavelength:180,speed:.045*n,segmentLength:10},{amplitude:36,wavelength:220,speed:.05*n,segmentLength:12},{amplitude:18,wavelength:120,speed:.038*n,segmentLength:8}];let o=0,s=!1;const i=()=>{e.waves.length<a.length?(e.addWave(a[o]),o=(o+1)%a.length,setTimeout(i,400)):s||(s=!0,setTimeout(l,600))},l=()=>{e.waves.length>1?(e.removeWave(0),setTimeout(l,400)):(s=!1,setTimeout(i,600))};r(c,t?()=>{e.addWave(a[0]),e.addWave(a[1]),e.start(),requestAnimationFrame((()=>e.stop()))}:()=>{i(),e.start()})}const u=document.getElementById("sineCanvasPerformance");if(u){const e=d(u,{maxPixelRatio:1});e.addWave({amplitude:18,wavelength:160,speed:.035*n,segmentLength:14}),e.addWave({amplitude:10,wavelength:120,speed:.04*n,segmentLength:16}),e.addWave({amplitude:6,wavelength:90,speed:.045*n,segmentLength:18}),o(u,e)}const m=document.getElementById("sineCanvasEasing");if(m){const e=d(m);e.addWave({amplitude:30,wavelength:160,speed:.04*n,segmentLength:10,easing:h}),o(m,e)}const g=document.getElementById("sineCanvasPause");if(g){const e=d(g);e.addWave({amplitude:24,wavelength:150,speed:.04*n,segmentLength:10});const t=document.querySelector('[data-action="pause"]'),a=document.querySelector('[data-action="resume"]');t&&t.addEventListener("click",(()=>e.stop())),a&&a.addEventListener("click",(()=>e.start())),o(g,e)}})())),A((()=>c("pulseMatrix",4,u))),A((()=>c("dnaHelix",4,m))),A((()=>c("fluidColumn",4,g))),A((()=>c("diagonalRain",4,v))),A((()=>c("lissajousOrbit",3,p))),A((()=>c("lissajousExplorer",4,f))),A((()=>c("feedbackLoop",4,y))),A((()=>c("waveformTerrain",6,w))),A((()=>c("radialBloom",4,b))),A((()=>c("gradientFill",4,C))),A((()=>c("audioVisualizerSim",4,E))),A((()=>c("labOcean",6,w))),A((()=>c("labHelix",4,m))),A((()=>c("labPulse",4,b))),A((()=>c("labOrbit",3,p))),A((()=>c("moireInterference",4,M))),A((()=>c("kineticTypography",4,k))),A((()=>c("dampedSine",4,x))),A((()=>c("recursiveSine",4,S))),A((()=>c("verticalWave",4,q))),A((()=>c("dashArray",4,L))),A((()=>c("variableWidth",4,T))),A((()=>c("compositingGlow",4,W))),A((()=>c("zenMode",8,P))),A((()=>(()=>{const e=document.querySelector('[data-example="stringPhysics"]');if(!e)return;const t=e.querySelector("canvas");if(!t)return;const a=d(t);a.addWave({amplitude:1,wavelength:1,speed:.08*n});const o={amplitude:0,decay:.95};t.addEventListener("pointerdown",(()=>{o.amplitude=100}));const l=a.ctx;a.drawWave=(e,r=1)=>{o.amplitude*=o.decay;const{width:d,height:c}=i(a,t),h=.5*c;l.beginPath();for(let t=0;t<=d;t+=6){const n=h+Math.sin(.02*t+e.phase)*o.amplitude*.02;0===t?l.moveTo(t,n):l.lineTo(t,n)}l.lineWidth=1+.02*Math.abs(o.amplitude),l.shadowBlur=10,l.shadowColor=s(e.phase,128,210),l.strokeStyle=s(e.phase,128,210),l.stroke(),l.shadowBlur=0,e.phase+=.02*r*n},r(t,(()=>a.start()))})())),A((()=>(()=>{const e=document.querySelector('[data-example="audioSpectrogram"]');if(!e)return;const t=e.querySelector("canvas"),a=e.querySelector("[data-action=audio-start]"),s=e.querySelector("[data-audio-status]");if(!t||!a||!s)return;const l=d(t);l.addWave({amplitude:1,wavelength:1,speed:.05*n});const c=l.ctx;let h=null,u=null;a.addEventListener("click",(()=>{h||(s.textContent="Listening",(async()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=await navigator.mediaDevices.getUserMedia({audio:!0}),n=e.createMediaStreamSource(t);h=e.createAnalyser(),h.fftSize=128,u=new Uint8Array(h.frequencyBinCount),n.connect(h),s.textContent="Live"}catch{s.textContent="Blocked"}})())})),l.drawWave=(e,a=1)=>{const{width:s,height:r}=i(l,t);h&&u&&h.getByteFrequencyData(u);const d=s/64;c.lineWidth=1.5;for(let t=0;t<64;t+=1){const n=Math.floor(t/64*(u?u.length:64)),a=u?u[n]/255:.5*(Math.sin(e.phase+.2*t)+1),s=.3*a*r,i=t*d+.5*d,l=.5*r;c.beginPath(),c.moveTo(i,l-s),c.lineTo(i,l+s);const h=o(a,180+t);c.strokeStyle=`hsla(${h}deg 80% 55% / 0.7)`,c.stroke()}e.phase+=.02*a*n},r(t,(()=>l.start()))})())),A((()=>(()=>{const e=document.getElementById("responsiveResizeCanvas");if(!e)return;const a=d(e,{autoResize:!0});a.addWave({amplitude:24,wavelength:140,speed:.04*n,segmentLength:10}),a.addWave({amplitude:16,wavelength:200,speed:.03*n,segmentLength:12,strokeStyle:"rgba(14,165,233,0.4)"});const o=e.parentElement;o&&new ResizeObserver((()=>{a.resize()})).observe(o),t?(a.start(),requestAnimationFrame((()=>a.stop()))):r(e,(()=>a.start()))})())),A((()=>(()=>{const e=document.getElementById("heroBackgroundCanvas");if(!e)return;if(t)return;const n=d(e,{autoResize:!0});n.addWave({amplitude:1,wavelength:1,speed:.02});const a=n.ctx;n.drawWave=(t,o=1)=>{(({ctx:e,canvas:t,generator:n,time:a})=>{const{width:o,height:s}=i(n,t),r=.5*s;[{amplitude:15,freq:.008,speed:.3,alpha:.12},{amplitude:10,freq:.012,speed:.2,alpha:.08},{amplitude:8,freq:.006,speed:.4,alpha:.1}].forEach((t=>{e.beginPath();for(let n=0;n<=o;n+=8){const o=Math.sin(n*t.freq+a*t.speed),s=r+o*t.amplitude;0===n?e.moveTo(n,s):e.lineTo(n,s)}e.strokeStyle=`rgba(14, 165, 233, ${t.alpha})`,e.lineWidth=1.5,e.stroke()}))})({ctx:a,canvas:e,generator:n,time:t.phase}),t.phase+=.01*o},n.start()})())),A((()=>(()=>{const e=document.getElementById("playgroundCanvas");if(!e)return;const a=e.closest(".playground-card");if(!a)return;const o=l(a),s=d(e),i={sineInOut:(e,t)=>t*(Math.sin(e*Math.PI)+1)/2,sineIn:(e,t)=>t*(1-Math.cos(e*Math.PI/2)),sineOut:(e,t)=>t*Math.sin(e*Math.PI/2),linear:(e,t)=>t*e},r={ocean:{waveCount:3,amplitude:20,wavelength:280,speed:.4,segmentLength:10,easing:"sineInOut"},heartbeat:{waveCount:1,amplitude:60,wavelength:80,speed:2,segmentLength:6,easing:"sineIn"},highfreq:{waveCount:4,amplitude:15,wavelength:40,speed:1.5,segmentLength:4,easing:"linear"},stormy:{waveCount:5,amplitude:50,wavelength:120,speed:2.5,segmentLength:8,easing:"sineOut"}},c=document.getElementById("playgroundPreset");c&&c.addEventListener("change",(()=>{const e=r[c.value];if(!e)return;a.querySelectorAll("[data-control]").forEach((t=>{const n=t.dataset.control;"preset"!==n&&"strokeColor"!==n&&void 0!==e[n]&&(t.value=e[n],t.dispatchEvent(new Event("input",{bubbles:!0})))}));const t=a.querySelector('[data-control="easing"]');t&&e.easing&&(t.value=e.easing,t.dispatchEvent(new Event("change",{bubbles:!0})))}));const h=()=>{const e=Number(o.waveCount)||2,t=Number(o.amplitude)||30,a=Number(o.wavelength)||140,r=Number(o.speed)||.8,l=Number(o.segmentLength)||10,d=i[o.easing||"sineInOut"]||i.sineInOut,c=o.strokeColor||null;for(;s.waves.length>e;)s.removeWave(s.waves.length-1);for(;s.waves.length<e;)s.addWave({amplitude:t,wavelength:a,speed:.05*r,segmentLength:l,easing:d,strokeStyle:c});s.waves.forEach(((e,o)=>{e.amplitude=t,e.wavelength=a+30*o,e.speed=.05*r*n,e.segmentLength=l,e.easing=d,e.strokeStyle=c}))};a.addEventListener("input",h),a.addEventListener("change",h),h();const u=document.getElementById("playgroundCopyConfig");u&&u.addEventListener("click",(()=>{const e=o.easing||"sineInOut",t=[],n=Number(o.waveCount)||2;for(let a=0;a<n;a++)t.push(`    { amplitude: ${o.amplitude}, wavelength: ${Number(o.wavelength)+30*a}, speed: ${o.speed}, segmentLength: ${o.segmentLength}, easing: Ease.${e}${o.strokeColor?`, strokeStyle: "${o.strokeColor}"`:""} }`);const a=`const generator = new SineWaveGenerator({\n  el: "#myCanvas",\n  waves: [\n${t.join(",\n")}\n  ]\n});\ngenerator.start();`;I(a,u)}));const m=document.getElementById("playgroundFullscreen");m&&m.addEventListener("click",(()=>{a.classList.toggle("is-fullscreen"),m.textContent=a.classList.contains("is-fullscreen")?"Exit Fullscreen":"Fullscreen",s.resize()})),t?(s.start(),requestAnimationFrame((()=>s.stop()))):s.start()})())),document.querySelectorAll(".code-block").forEach((e=>{if(e.querySelector(".copy-btn"))return;e.style.position="relative";const t=document.createElement("button");t.className="copy-btn",t.type="button",t.textContent="Copy",t.addEventListener("click",(n=>{n.stopPropagation();const a=e.querySelector("code");I(a?a.textContent:e.textContent,t)})),e.appendChild(t)})),document.querySelectorAll(".view-code-toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.nextElementSibling;if(t&&t.classList.contains("code-reveal")){const n=t.classList.toggle("is-visible");e.textContent=n?"Hide Code":"View Code"}}))}))};document.addEventListener("DOMContentLoaded",(()=>{B()}))})();